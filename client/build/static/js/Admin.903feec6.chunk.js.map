{"version":3,"sources":["utils/getSelectedZoneObj.ts","types/zone.ts","utils/getProperDisplayName.ts","utils/getZoneStatusProps.ts","utils/getLanguage.ts","utils/getLatLngFromBBox.ts","components/Map/Controlls.tsx","components/Map/Leaflet.tsx","screens/Admin.tsx"],"names":["getSelectedZoneObjById","id","zones","find","zone","_id","ZoneStatus","PlaceType","getProperDisplayName","displayName","getLanguage","properties","displayNameUz","displayNameRu","getZoneStatusProps","status","t","textColorInWhite","textColorInBlue","text","bgColor","DANGEROUS","RISKY","SAFE","textInWhiteBg","textInBlueishBg","i18n","language","window","localStorage","i18nextLng","getLatLngFromBBox","bbox","minLng","minLat","maxLng","Controlls","map","zoomIn","L","DomUtil","create","zoomOut","type","title","innerHTML","style","cursor","textAlign","width","height","borderRadius","background","boxShadow","lineHeight","margin","fontWeight","fontSize","fontFamily","color","onmouseover","onmouseout","onclick","console","log","container","appendChild","Map","props","closeBottomSheet","useContext","StateContext","selectedZoneId","dispatch","selectedZone","useTranslation","mdUp","useMediaQuery","theme","breakpoints","up","mapContainer","useRef","selectedLayer","currentLocation","layerStyle","fillColor","fillOpacity","isHighlighted","highlightLayer","layer","feature","setStyle","navigateTo","lat","lng","zoom","Icon","Default","prototype","_getIconUrl","mergeOptions","iconRetinaUrl","require","iconUrl","shadowUrl","current","setView","animate","Marker","addTo","useEffect","geoJson","queryParam","URLSearchParams","location","search","get","latInt","parseFloat","lngInt","zoomInt","renderer","canvas","padding","zoomControl","tileLayer","attribution","edgeBufferTiles","geoJSON","feat","weight","onEachFeature","openPopupTimer","bindPopup","total","infectedNumber","recoveredNumber","deadNumber","className","on","click","e","resetStyle","target","ADD_SELECTED_ZONE_ID","payload","openPopup","mouseover","setTimeout","mouseout","clearTimeout","dehighlightLayer","removeLayer","getZoom","latLng","getCenter","set","JSON","stringify","toString","newRelativePathQuery","pathname","history","pushState","eachLayer","isShown","zoneZoomLevel","childZones","length","getBoundsZoom","parentZone","z","refId","parentZoomLevel","getBounds","overlaps","isLayerVisible","addLayer","controls","Control","extend","options","position","onAdd","addControl","ADD_NAVIGATE_TO_FN","remove","off","ref","Graph","React","lazy","Restrictions","HistoryController","ZoneStatusController","RestrictionController","Admin","useState","undefined","socket","setSocket","useHistory","useLocation","io","query","token","sessionStorage","emit","ADD_ZONES","error","reason","push","state","from","zIndex","display","gridTemplateColumns","gridTemplateRows"],"mappings":"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","file":"static/js/Admin.903feec6.chunk.js","sourcesContent":["import { Zone } from \"../types/zone\";\r\n\r\nexport const getSelectedZoneObjById = (id: string, zones: Zone[] = []) => {\r\n  return zones.find((zone) => zone._id === id);\r\n};\r\n","import { BBox } from \"@turf/turf\";\r\n\r\nexport enum ZoneStatus {\r\n  DANGEROUS = \"DANGEROUS\",\r\n  RISKY = \"RISKY\",\r\n  SAFE = \"SAFE\",\r\n}\r\n\r\nexport enum PlaceType {\r\n  DISTRICT = \"DISTRICT\",\r\n  CITY = \"CITY\",\r\n  REGION = \"REGION\",\r\n  COUNTRY = \"COUNTRY\",\r\n}\r\n\r\nexport type Total = {\r\n  infectedNumber: number;\r\n  recoveredNumber: number;\r\n  deadNumber: number;\r\n};\r\nexport type History = {\r\n  _id: string;\r\n  infectedNumber: number;\r\n  recoveredNumber: number;\r\n  deadNumber: number;\r\n  date: Date;\r\n};\r\n\r\nexport type Zone = {\r\n  _id: string;\r\n  type:\r\n    | \"FeatureCollection\"\r\n    | \"Feature\"\r\n    | \"GeometryCollection\"\r\n    | \"Point\"\r\n    | \"MultiPoint\"\r\n    | \"LineString\"\r\n    | \"MultiLineString\"\r\n    | \"Polygon\"\r\n    | \"MultiPolygon\";\r\n  properties: {\r\n    displayNameUz: string;\r\n    displayNameRu: string;\r\n    alias: string[];\r\n    refId: number;\r\n    parentZone: number;\r\n    childZones: number[];\r\n    placeType: PlaceType;\r\n    status: ZoneStatus;\r\n    total: Total;\r\n    history: History[];\r\n    restrictionsUz: any;\r\n    restrictionsRu: any;\r\n  };\r\n  bbox: [number, number, number, number];\r\n  geometry: {\r\n    type:\r\n      | \"FeatureCollection\"\r\n      | \"Feature\"\r\n      | \"GeometryCollection\"\r\n      | \"Point\"\r\n      | \"MultiPoint\"\r\n      | \"LineString\"\r\n      | \"MultiLineString\"\r\n      | \"Polygon\"\r\n      | \"MultiPolygon\";\r\n    coordinates: [];\r\n  };\r\n};\r\n","import { Zone } from \"../types/zone\";\r\nimport { getLanguage } from \"./getLanguage\";\r\n\r\nexport const getProperDisplayName = (zone: Zone) => {\r\n  let displayName: string;\r\n  switch (getLanguage()) {\r\n    case \"uz\":\r\n      displayName = zone?.properties?.displayNameUz;\r\n      break;\r\n    case \"ru\":\r\n      displayName = zone?.properties?.displayNameRu;\r\n      break;\r\n    default:\r\n      displayName = zone?.properties?.displayNameUz;\r\n      break;\r\n  }\r\n  return displayName;\r\n};\r\n","import { ZoneStatus } from \"../types/zone\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { TFunction } from \"i18next\";\r\n\r\nconst getZoneStatusProps = (status: ZoneStatus, t?: TFunction) => {\r\n  let textColorInWhite: string = \"\",\r\n    textColorInBlue: string = \"\",\r\n    text: string | undefined = \"\",\r\n    bgColor: string = \"\";\r\n  switch (status) {\r\n    case ZoneStatus.DANGEROUS:\r\n      textColorInWhite = \"#EA5C73\";\r\n      textColorInBlue = \"#FF4967\";\r\n      text = t && t(\"selectedZoneName.statusBadge.dangerous\");\r\n      bgColor = \"#ff0c0c26\";\r\n      break;\r\n    case ZoneStatus.RISKY:\r\n      textColorInWhite = \"#EF7C38\";\r\n      textColorInBlue = \"#FF9635\";\r\n      text = t && t(\"selectedZoneName.statusBadge.warning\");\r\n      bgColor = \"#ffeb0159\";\r\n      break;\r\n    case ZoneStatus.SAFE:\r\n      textColorInWhite = \"#87D03F\";\r\n      textColorInBlue = \"#87D03F\";\r\n      text = t && t(\"selectedZoneName.statusBadge.safe\");\r\n      bgColor = \"#8ff8293d\";\r\n      break;\r\n    default:\r\n      break;\r\n  }\r\n  return {\r\n    textInWhiteBg: textColorInWhite,\r\n    textInBlueishBg: textColorInBlue,\r\n    text: text,\r\n    bgColor: bgColor,\r\n  };\r\n};\r\n\r\nexport default getZoneStatusProps;\r\n","import i18n from \"i18next\";\r\n\r\nexport const getLanguage = () => {\r\n  return (\r\n    i18n.language ||\r\n    (typeof window !== \"undefined\" && window.localStorage.i18nextLng) ||\r\n    \"uz\"\r\n  );\r\n};\r\n","export const getLatLngFromBBox = (bbox: number[] | undefined): [number, number][] => {\r\n  const [minLng, minLat, maxLng, maxLat] = bbox || [];\r\n  return [\r\n    [maxLat, maxLng],\r\n    [minLat, minLng],\r\n  ];\r\n};","import L from \"leaflet\";\r\n\r\nexport const Controlls = (map: any) => {\r\n  const zoomIn: any = L.DomUtil.create(\"div\");\r\n  const zoomOut: any = L.DomUtil.create(\"div\");\r\n  zoomIn.type = zoomOut.type = \"button\";\r\n  zoomIn.title = \"Zoom in\";\r\n  zoomOut.title = \"Zoom out\";\r\n  zoomIn.innerHTML = \"+\";\r\n  zoomOut.innerHTML = \"-\";\r\n\r\n  zoomIn.style.cursor = zoomOut.style.cursor = \"pointer\";\r\n  zoomIn.style.textAlign = zoomOut.style.textAlign = \"center\";\r\n  zoomIn.style.width = zoomOut.style.width = \"52px\";\r\n  zoomIn.style.height = zoomOut.style.height = \"52px\";\r\n  zoomIn.style.borderRadius = zoomOut.style.borderRadius = \"32px\";\r\n  zoomIn.style.background = zoomOut.style.background = \"#ffffff\";\r\n  zoomIn.style.boxShadow = zoomOut.style.boxShadow =\r\n    \"0px 2px 1px -1px rgba(0,0,0,0.2),0px 1px 1px 0px rgba(0,0,0,0.14),0px 1px 3px 0px rgba(0,0,0,0.12)\";\r\n  zoomIn.style.lineHeight = zoomOut.style.lineHeight = \"52px\";\r\n  zoomIn.style.margin = zoomOut.style.margin = \"8px 0\";\r\n  zoomIn.style.fontWeight = zoomOut.style.fontWeight = \"500\";\r\n  zoomIn.style.fontSize = zoomOut.style.fontSize = \"28px\";\r\n  zoomIn.style.fontFamily = zoomOut.style.fontFamily = \"Rubik\";\r\n  zoomIn.style.color = zoomOut.style.color = \"#242b43\";\r\n\r\n  zoomIn.onmouseover = function () {\r\n    zoomIn.style.boxShadow = \"0px 3px 3px -2px rgba(0,0,0,0.2),0px 3px 4px 0px rgba(0,0,0,0.14),0px 1px 8px 0px rgba(0,0,0,0.12)\";\r\n  };\r\n  zoomOut.onmouseover = function () {\r\n    zoomOut.style.boxShadow = \"0px 3px 3px -2px rgba(0,0,0,0.2),0px 3px 4px 0px rgba(0,0,0,0.14),0px 1px 8px 0px rgba(0,0,0,0.12)\";\r\n  };\r\n  zoomIn.onmouseout = function () {\r\n    zoomIn.style.boxShadow = \"0px 2px 1px -1px rgba(0,0,0,0.2),0px 1px 1px 0px rgba(0,0,0,0.14),0px 1px 3px 0px rgba(0,0,0,0.12)\";\r\n  };\r\n  zoomOut.onmouseout = function () {\r\n    zoomOut.style.boxShadow = \"0px 2px 1px -1px rgba(0,0,0,0.2),0px 1px 1px 0px rgba(0,0,0,0.14),0px 1px 3px 0px rgba(0,0,0,0.12)\";\r\n  };\r\n\r\n  zoomIn.onclick = function () {\r\n    map.zoomIn(1);\r\n    console.log(\"+ buttonClicked\");\r\n  };\r\n  zoomOut.onclick = function () {\r\n    map.zoomOut(1);\r\n    console.log(\"- buttonClicked\");\r\n  };\r\n\r\n  const container = L.DomUtil.create(\"div\");\r\n  container.appendChild(zoomIn);\r\n  container.appendChild(zoomOut);\r\n\r\n  return container;\r\n};\r\n","import React, {\r\n  useEffect,\r\n  useRef,\r\n  useImperativeHandle,\r\n  forwardRef,\r\n  useContext,\r\n} from \"react\";\r\nimport L, { LeafletEvent } from \"leaflet\";\r\nimport \"leaflet/dist/leaflet.css\";\r\nimport \"leaflet-edgebuffer\";\r\n// import PouchDB from \"pouchdb\";\r\n// import \"leaflet.tilelayer.pouchdbcached\";\r\n// import { CachedTileLayer } from \"@yaga/leaflet-cached-tile-layer\";\r\n// import { scaleQuantize } from \"d3-scale\";\r\n// import glify from \"leaflet.glify\";\r\n// import vectorGrid from \"leaflet.vectorgrid\";\r\n// import \"leaflet.vectorgrid\";\r\nimport { Zone, ZoneStatus } from \"types/zone\";\r\nimport { getLatLngFromBBox } from \"utils/getLatLngFromBBox\";\r\nimport getZoneStatusProps from \"utils/getZoneStatusProps\";\r\nimport { getProperDisplayName } from \"utils/getProperDisplayName\";\r\nimport { Controlls } from \"./Controlls\";\r\nimport { useMediaQuery, Theme } from \"@material-ui/core\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { getSelectedZoneObjById } from \"utils/getSelectedZoneObj\";\r\nimport { StateContext } from \"state/StateContext\";\r\nimport {\r\n  ADD_SELECTED_ZONE_ID,\r\n  ADD_NAVIGATE_TO_FN,\r\n} from \"state/reducers/appReducer\";\r\n// window.PouchDB = PouchDB;\r\n// L.vectorGrid = vectorGrid;\r\n\r\nexport interface MapProps {\r\n  closeBottomSheet?: () => void;\r\n}\r\n\r\nconst Map: React.SFC<MapProps> = (props) => {\r\n  const { closeBottomSheet } = props;\r\n  const { zones = [], selectedZoneId, dispatch } = useContext(StateContext);\r\n  const selectedZone = getSelectedZoneObjById(selectedZoneId, zones);\r\n  const { t } = useTranslation();\r\n  const mdUp = useMediaQuery((theme: Theme) => theme.breakpoints.up(\"md\"));\r\n  const mapContainer = useRef<any>();\r\n  const map = useRef<any>();\r\n  const selectedLayer = useRef<any>();\r\n  const currentLocation = useRef<any>();\r\n\r\n  const handleZoneSelect = (feature: Zone) => {\r\n    // console.log('feature', feature);\r\n    dispatch({\r\n      type: ADD_SELECTED_ZONE_ID,\r\n      payload: feature._id,\r\n    });\r\n\r\n    closeBottomSheet && closeBottomSheet();\r\n  };\r\n\r\n  const layerStyle = (status: ZoneStatus, isHighlighted: boolean = false) => {\r\n    let fillColor;\r\n    let fillOpacity;\r\n\r\n    switch (status) {\r\n      case ZoneStatus.DANGEROUS:\r\n        fillColor = isHighlighted ? \"#FA0303\" : \"#FB3535\";\r\n        fillOpacity = isHighlighted ? 0.3 : 0.2;\r\n        break;\r\n      case ZoneStatus.RISKY:\r\n        fillColor = isHighlighted ? \"#FAFF00\" : \"#FAFF00\";\r\n        fillOpacity = isHighlighted ? 0.4 : 0.2;\r\n        break;\r\n      case ZoneStatus.SAFE:\r\n        fillColor = isHighlighted ? \"#23FF00\" : \"#23FD00\";\r\n        fillOpacity = isHighlighted ? 0.5 : 0.2;\r\n        break;\r\n      default:\r\n        fillColor = \"#23FD00\";\r\n        fillOpacity = 0.2;\r\n        break;\r\n    }\r\n    return { fillColor, fillOpacity };\r\n  };\r\n\r\n  const isLayerVisible = (zone: Zone, map: any) => {\r\n    let isShown;\r\n    let zoneZoomLevel;\r\n    if (zone.properties?.childZones?.length) {\r\n      const latLng = getLatLngFromBBox(zone?.bbox);\r\n      // console.log('latLng', latLng);\r\n      zoneZoomLevel = (latLng[0][0] && map.getBoundsZoom(latLng)) || 0;\r\n      // console.log('zoneZoomLevel', zoneZoomLevel);\r\n    } else {\r\n      zoneZoomLevel = 18;\r\n    }\r\n\r\n    const parentZone = zones.find(\r\n      (z) => z?.properties?.refId === zone?.properties?.parentZone\r\n    );\r\n    const latLng = getLatLngFromBBox(parentZone?.bbox);\r\n    // console.log('latLng', latLng);\r\n    const parentZoomLevel =\r\n    (parentZone && latLng[0][0] && map.getBoundsZoom(latLng)) ||\r\n    0;\r\n    // console.log('parentZoomLevel', parentZoomLevel);\r\n\r\n    const zoom = map?.getZoom() || 0;\r\n\r\n    if (zoom <= zoneZoomLevel && zoom > parentZoomLevel) {\r\n      if (map.getBounds().overlaps(getLatLngFromBBox(zone.bbox))) {\r\n        isShown = true;\r\n      } else {\r\n        isShown = false;\r\n      }\r\n      isShown = true;\r\n    } else {\r\n      isShown = false;\r\n    }\r\n    return isShown;\r\n  };\r\n\r\n  const highlightLayer = (layer: any) => {\r\n    const status = layer.feature?.properties?.status;\r\n    const { fillColor, fillOpacity } = layerStyle(status, true);\r\n    layer.setStyle({\r\n      fillColor: fillColor,\r\n      fillOpacity: fillOpacity,\r\n    });\r\n  };\r\n\r\n  const dehighlightLayer = (layer: any) => {\r\n    const status = layer.feature?.properties?.status;\r\n    const { fillColor, fillOpacity } = layerStyle(status, false);\r\n    layer.setStyle({\r\n      fillColor: fillColor,\r\n      fillOpacity: fillOpacity,\r\n    });\r\n  };\r\n\r\n  const navigateTo = (\r\n    { lat, lng, zoom = 12 }: { lat: number; lng: number; zoom: number },\r\n    isMarked = true\r\n  ) => {\r\n    delete (L.Icon.Default.prototype as any)._getIconUrl;\r\n\r\n    L.Icon.Default.mergeOptions({\r\n      iconRetinaUrl: require(\"leaflet/dist/images/marker-icon-2x.png\"),\r\n      iconUrl: require(\"leaflet/dist/images/marker-icon.png\"),\r\n      shadowUrl: require(\"leaflet/dist/images/marker-shadow.png\"),\r\n    }); // to show marker\r\n\r\n    map.current?.setView({ lat, lng }, zoom, {\r\n      animate: true,\r\n    });\r\n    currentLocation.current = new L.Marker({ lat, lng });\r\n    currentLocation.current.addTo(map.current);\r\n    // isMarked && setMarker({ lat, lng });\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (selectedZone) {\r\n      // const latLng = getLatLngFromBBox(selectedZone?.bbox);\r\n      // map.current?.flyToBounds(latLng);\r\n    }\r\n  }, [selectedZone]);\r\n\r\n\r\n  useEffect(() => {\r\n    const queryParam = new URLSearchParams(window.location.search);\r\n    const lat = queryParam.get(\"lat\");\r\n    const lng = queryParam.get(\"lng\");\r\n    const zoom = queryParam.get(\"zoom\");\r\n    const latInt = (lat && parseFloat(lat)) || 40.92930626579717;\r\n    const lngInt = (lng && parseFloat(lng)) || 64.61999498705462;\r\n    const zoomInt = (zoom && parseFloat(zoom)) || 6;\r\n    let geoJson: L.GeoJSON;\r\n    map.current = L.map(mapContainer.current, {\r\n      renderer: L.canvas({ padding: 1 }),\r\n      zoomControl: false,\r\n      // zoomSnap: 0,\r\n    });\r\n\r\n    const layerOptions: any = {\r\n      attribution:\r\n        '&copy; <a href=\"https://stadiamaps.com/\">Stadia Maps</a>, &copy; <a href=\"https://openmaptiles.org/\">OpenMapTiles</a> &copy; <a href=\"http://openstreetmap.org\">OpenStreetMap</a> contributors',\r\n      // useCache: true,\r\n      // crossOrigin: true,\r\n      // cacheMaxAge: 1000 * 60 * 60 * 24 * 7,\r\n      edgeBufferTiles: 2,\r\n    };\r\n    L.tileLayer(\r\n      \"http://{s}.tile.osm.org/{z}/{x}/{y}.png\",\r\n      // \"https://tiles.stadiamaps.com/tiles/osm_bright/{z}/{x}/{y}{r}.png\",\r\n      layerOptions\r\n    ).addTo(map.current);\r\n\r\n    // new CachedTileLayer(\"http://{s}.tile.osm.org/{z}/{x}/{y}.png\", {\r\n    //   attribution: `&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors`,\r\n    //   // databaseName: \"tile-cache-data\", // optional\r\n    //   // databaseVersion: 1, // optional\r\n    //   // objectStoreName: \"OSM\", // optional\r\n    //   // crawlDelay: 500, // optional\r\n    //   crossOrigin: false,\r\n    //   maxAge: 1000 * 60 * 60 * 24 * 7, // optional,\r\n    //   minZoom: 4,\r\n    //   edgeBufferTiles: 5,\r\n    // }).addTo(map.current);\r\n\r\n    map.current.setView([latInt, lngInt], zoomInt);\r\n\r\n    geoJson = L.geoJSON(zones as any, {\r\n      style: (feat) => {\r\n        const status = feat?.properties?.status;\r\n        const { fillColor, fillOpacity } = layerStyle(status);\r\n\r\n        return {\r\n          fillColor: fillColor,\r\n          fillOpacity: fillOpacity,\r\n          color: \"#A4A2AE\",\r\n          weight: 2,\r\n        };\r\n      },\r\n      onEachFeature: (zone, layer: L.Layer) => {\r\n        let openPopupTimer: NodeJS.Timeout;\r\n\r\n        layer.bindPopup(\r\n          `\r\n        <style>\r\n        .custom-popup-style .leaflet-popup-content-wrapper {\r\n          background: #FFFFFF;\r\n          box-shadow: 0px 4px 40px rgba(0, 30, 89, 0.09);\r\n          border-radius: 11px;\r\n        }\r\n        .custom-popup-style .leaflet-popup-tip {\r\n          box-shadow: 0px 4px 40px rgba(0, 30, 89, 0.09);\r\n        }\r\n        .custom-popup-style .title-container {\r\n          display: flex;\r\n          align-items: center;\r\n          margin-bottom: 8px;\r\n          margin-right: 8px;\r\n          position: relative;\r\n        }\r\n        .custom-popup-style .zone-status-pin {\r\n          display: inline-block;\r\n          width: 8px;\r\n          height: 8px;\r\n          border-radius: 4px;\r\n          margin-right: 5px;\r\n        }\r\n        .custom-popup-style .zone-name {\r\n          font-family: Rubik;\r\n          font-size: 16px;\r\n          font-weight: 500;\r\n          line-height: 16px;\r\n          color: #242B43;\r\n          margin: 0;\r\n        }\r\n        .custom-popup-style .data {\r\n          font-family: Rubik;\r\n          font-size: 14px;\r\n          font-weight: 500;\r\n          line-height: 20px;\r\n          margin: 0;\r\n        }\r\n        </style>\r\n        <div class='title-container'>\r\n          <span class=\"zone-status-pin\" style=\"\r\n            background-color: ${\r\n              getZoneStatusProps(zone.properties?.status).textInBlueishBg\r\n            }\r\n          \"></span>\r\n          <h5 class=\"zone-name\">${getProperDisplayName(zone as Zone)}</h5>\r\n        </div>\r\n    \r\n        <p class=\"data infected\" style=\"\r\n          color: ${getZoneStatusProps(ZoneStatus.RISKY).textInWhiteBg}\r\n        \">${t(\"dataType.infected\")} ${zone.properties?.total.infectedNumber}</p>\r\n    \r\n        <p class=\"data recovered\" style=\"\r\n          color: ${getZoneStatusProps(ZoneStatus.SAFE).textInWhiteBg}\r\n        \">${t(\"dataType.recovered\")} ${\r\n            zone.properties?.total.recoveredNumber\r\n          }</p>\r\n    \r\n        <p class=\"data dead\" style=\"\r\n          color: ${getZoneStatusProps(ZoneStatus.DANGEROUS).textInWhiteBg}\r\n        \">${t(\"dataType.dead\")} ${zone.properties?.total.deadNumber}</p>\r\n        `,\r\n          {\r\n            className: \"custom-popup-style\",\r\n          }\r\n        );\r\n        layer.on({\r\n          click: (e) => {\r\n            geoJson.resetStyle(selectedLayer.current);\r\n\r\n            highlightLayer(e.target);\r\n            selectedLayer.current = e.target;\r\n            \r\n            handleZoneSelect(zone as Zone);\r\n\r\n            e.target.openPopup();\r\n          },\r\n          mouseover: (e: LeafletEvent) => {\r\n            openPopupTimer = setTimeout(() => {\r\n              e.target.openPopup();\r\n            }, 1000);\r\n            highlightLayer(e.target);\r\n          },\r\n          mouseout: (e: LeafletEvent) => {\r\n            clearTimeout(openPopupTimer);\r\n            if (\r\n              selectedLayer.current?.feature?._id === e.target?.feature?._id\r\n            ) {\r\n            } else {\r\n              dehighlightLayer(e.target);\r\n            }\r\n          },\r\n        });\r\n      },\r\n      // filter: (zone) => isLayerVisible(zone as Zone, map),\r\n    }).addTo(map.current);\r\n\r\n    map.current.on(\"movestart\", () => {\r\n      if (map.current && currentLocation.current) {\r\n        map.current?.removeLayer(currentLocation.current);\r\n      }\r\n    });\r\n    map.current.on(\"moveend\", (e: any) => {\r\n      const zoom = map.current?.getZoom();\r\n      const latLng = map.current?.getCenter();\r\n\r\n      if (latLng?.lat && latLng?.lng && zoom) {\r\n        if (\"URLSearchParams\" in window) {\r\n          const queryParam = new URLSearchParams(window.location.search);\r\n          queryParam.set(\"lat\", JSON.stringify(latLng.lat));\r\n          queryParam.set(\"lng\", JSON.stringify(latLng.lng));\r\n          queryParam.set(\"zoom\", JSON.stringify(zoom));\r\n          queryParam.toString();\r\n          const newRelativePathQuery =\r\n            window.location.pathname + \"?\" + queryParam.toString();\r\n          window.history.pushState(null, \"\", newRelativePathQuery);\r\n        }\r\n      }\r\n      geoJson.eachLayer((layer: any) => {\r\n        // console.log(\"geoJson layer\", layer);\r\n        const isVisible = isLayerVisible(layer.feature, map.current);\r\n        if (!isVisible) {\r\n          map.current.removeLayer(layer);\r\n        } else {\r\n          map.current.addLayer(layer);\r\n        }\r\n        // console.log(\"geoJson isVisible\", isVisible);\r\n      });\r\n    });\r\n\r\n    const controls = L.Control.extend({\r\n      options: {\r\n        position: \"bottomright\",\r\n      },\r\n\r\n      onAdd: Controlls,\r\n    });\r\n    mdUp && map.current.addControl(new controls());\r\n\r\n    dispatch({\r\n      type: ADD_NAVIGATE_TO_FN,\r\n      payload: navigateTo,\r\n    });\r\n\r\n    return () => {\r\n      if (map.current && map.current.remove) {\r\n        map.current.off();\r\n        map.current.remove();\r\n      }\r\n    };\r\n  }, [zones, mdUp]);\r\n  return (\r\n    <div ref={mapContainer} style={{ width: \"100%\", height: \"100%\" }}></div>\r\n  );\r\n};\r\n\r\nexport default Map;\r\n","import io from \"socket.io-client\";\r\nimport \"leaflet/dist/leaflet.css\";\r\nimport React, { useEffect, useContext, useState } from \"react\";\r\nimport { StateContext } from \"../state/StateContext\";\r\nimport { ADD_ZONES } from \"../state/reducers/appReducer\";\r\nimport { useHistory, useLocation } from \"react-router-dom\";\r\nimport Map from \"../components/Map/Leaflet\";\r\n// import MapZones from \"../components/Map/MapZones\";\r\n// const MapZones = React.lazy(() =>\r\n//   import(/* webpackChunkName: 'MapZones' */ \"../components/Map/MapZones\")\r\n// );\r\n// import Graph from \"../components/HistoryGraph/Graph\";\r\nconst Graph = React.lazy(() =>\r\n  import(/* webpackChunkName: 'Graph' */ \"../components/HistoryGraph/Graph\")\r\n);\r\n// import Restrictions from \"../components/Restrictions/Restrictions\";\r\nconst Restrictions = React.lazy(() =>\r\n  import(\r\n    /* webpackChunkName: 'Restrictions' */ \"../components/Restrictions/Restrictions\"\r\n  )\r\n);\r\n// import HistoryController from \"../components/HistoryGraph/HistoryController\";\r\nconst HistoryController = React.lazy(() =>\r\n  import(\r\n    /* webpackChunkName: 'HistoryController' */ \"../components/HistoryGraph/HistoryController\"\r\n  )\r\n);\r\n// import ZoneStatusController from \"../components/SelectedZoneName/ZoneStatusController\";\r\nconst ZoneStatusController = React.lazy(() =>\r\n  import(\r\n    /* webpackChunkName: 'ZoneStatusController' */ \"../components/SelectedZoneName/ZoneStatusController\"\r\n  )\r\n);\r\n// import RestrictionController from \"../components/Restrictions/RestrictionController\";\r\nconst RestrictionController = React.lazy(() =>\r\n  import(\r\n    /* webpackChunkName: 'RestrictionController' */ \"../components/Restrictions/RestrictionController\"\r\n  )\r\n);\r\n\r\nexport interface AdminProps {}\r\n\r\nconst Admin: React.SFC<AdminProps> = () => {\r\n  const { dispatch } = useContext(StateContext);\r\n  const [socket, setSocket] = useState<any>(undefined);\r\n  const history = useHistory();\r\n  const location = useLocation();\r\n  useEffect(() => {\r\n    const socket = io(\"http://localhost:4000\", {\r\n      query: { token: sessionStorage.token },\r\n    });\r\n    setSocket(socket);\r\n    socket.on(\"connect\", () => {\r\n      socket.emit(\"initial_data\");\r\n      socket.on(\"push_zones\", (zones: any) => {\r\n        console.log('zones', zones);\r\n        dispatch({\r\n          type: ADD_ZONES,\r\n          payload: zones,\r\n        });\r\n      });\r\n    });\r\n    socket.on(\"connect_error\", (error: any) => {});\r\n    socket.on(\"internal_error\", (error: any) => {});\r\n    socket.on(\"error\", (reason: any) => {\r\n      if (reason === \"Authentication error\") {\r\n        history.push({\r\n          pathname: \"/login\",\r\n          state: {\r\n            from: location.pathname,\r\n          },\r\n        });\r\n      }\r\n    });\r\n  }, []);\r\n  return (\r\n    <>\r\n      <div\r\n        style={{\r\n          position: \"relative\",\r\n          zIndex: 10,\r\n          display: \"grid\",\r\n          gridTemplateColumns: \"1fr 1fr\",\r\n          gridTemplateRows: \"400px 400px 400px\",\r\n        }}\r\n      >\r\n        <div className=\"map\">\r\n          <Map />\r\n        </div>\r\n        <div className=\"status-controller\">\r\n          {socket && <ZoneStatusController socket={socket} />}\r\n        </div>\r\n        <div className=\"graph\">\r\n          <Graph />\r\n        </div>\r\n        <div className=\"graph-controller\">\r\n          {socket && <HistoryController socket={socket} />}\r\n        </div>\r\n        <div className=\"restrictions\">\r\n          <Restrictions />\r\n        </div>\r\n        <div className=\"restriction-controller\">\r\n          {socket && <RestrictionController socket={socket} />}\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Admin;\r\n"],"sourceRoot":""}