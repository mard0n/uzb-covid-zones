(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[8],{109:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var n=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return t.find((function(t){return t._id===e}))}},114:function(e,t,a){"use strict";var n,r;a.d(t,"b",(function(){return n})),a.d(t,"a",(function(){return r})),function(e){e.DANGEROUS="DANGEROUS",e.RISKY="RISKY",e.SAFE="SAFE"}(n||(n={})),function(e){e.DISTRICT="DISTRICT",e.CITY="CITY",e.REGION="REGION",e.COUNTRY="COUNTRY"}(r||(r={}))},115:function(e,t,a){"use strict";var n=a(114);t.a=function(e,t){var a="",r="",o="",i="";switch(e){case n.b.DANGEROUS:a="#EA5C73",r="#FF4967",o=t&&t("selectedZoneName.statusBadge.dangerous"),i="#ff0c0c26";break;case n.b.RISKY:a="#EF7C38",r="#FF9635",o=t&&t("selectedZoneName.statusBadge.warning"),i="#ffeb0159";break;case n.b.SAFE:a="#87D03F",r="#87D03F",o=t&&t("selectedZoneName.statusBadge.safe"),i="#8ff8293d"}return{textInWhiteBg:a,textInBlueishBg:r,text:o,bgColor:i}}},431:function(e,t,a){"use strict";a.r(t);var n,r=a(0),o=a.n(r),i=a(109),s=a(37),l=a(430),c=a(44),d=a(114),f=a(130),u=a.n(f),m=(a(375),a(216)),b=a.n(m),g=a(115),y=a(104),p=a(232),S=a(338),h=a(345),x=a(343),O=a(378),E=a.n(O),D=a(377),v=a.n(D),N=a(433),I=function(e){var t,a,r=e.data,o=e.from,i=e.minVisible,s=e.to,l=e.range,c=[u()(r[0]).toDate(),u()(r[r.length-1]).toDate()],d=c[0],f=c[1],m=u()(o).toDate(),b=s?u()(s).toDate():u()(o).add(l,"days").toDate(),g=l||u()(b).diff(u()(m),"days"),y=u()(m).isSameOrAfter(d)&&u()(m).isSameOrBefore(f),p=u()(b).isSameOrAfter(d)&&u()(b).isSameOrBefore(f);y||p?p?u()(b).isSameOrAfter(m)?(t=m,a=b):(t=b,a=m):u()(b).isSameOrAfter(m)?(t=m,a=f):(t=d,a=m):g>=0?(t=u()(f).subtract(i,"days").toDate(),a=f):(t=d,a=u()(d).add(i,"days").toDate());var S=Math.abs(u()(a).diff(t,"days"));if(S>=i)return{from:u()(t).format(n.INNER),to:u()(a).format(n.INNER),range:S,data:r.filter((function(e,n){return u()(e).isSameOrAfter(t)&&u()(e).isSameOrBefore(a)}))};if(u()(t).isSame(d)){var h=u()(t).add(i,"days").isBefore(f),x=h?u()(t).add(i,"days").toDate():u()(f).toDate();return{from:u()(t).format(n.INNER),to:u()(x).format(n.INNER),range:h?i:u()(t).diff(u()(x),"days"),data:r.filter((function(e,a){return u()(e).isSameOrAfter(t)&&u()(e).isSameOrBefore(x)}))}}if(u()(a).isSame(f)){var O=u()(a).subtract(i,"days").isAfter(d),E=O?u()(a).subtract(i,"days").toDate():u()(d).toDate();return{from:u()(E).format(n.INNER),to:u()(a).format(n.INNER),range:O?i:u()(a).diff(u()(E),"days"),data:r.filter((function(e,t){return u()(e).isSameOrBefore(a)&&u()(e).isSameOrAfter(E)}))}}return{from:u()(t).format(n.INNER),to:u()(t).add(i,"days").format(n.INNER),range:i,data:r.filter((function(e,a){return u()(e).isSameOrAfter(t)&&u()(e).isSameOrBefore(u()(t).add(i,"days"))}))}};!function(e){e.INNER="YYYY-MM-DD",e.DISPLAY="DD MMM YYYY",e.DISPLAY_NO_YEAR="DD MMM",e.MONTH="MMM"}(n||(n={}));var R=Object(y.a)({container:{borderRadius:9},btnStyle:{backgroundColor:"white",height:32,width:32}}),A=o.a.memo((function(e){var t=e.data,a=e.minVisible,i=Object(N.a)().t,s=t.map((function(e){return u()(e.date).format(n.INNER)})),f=R(),m=Object(r.useState)(!1),y=Object(c.a)(m,2),O=y[0],D=y[1],A=Object(r.useState)({from:s[s.length-1],range:-a}),C=Object(c.a)(A,2),B=C[0],M=C[1],w=Object(r.useRef)(),j=Object(r.useRef)();Object(r.useEffect)((function(){var e=I({data:s,minVisible:a,from:B.from,range:-Math.abs(B.range)});return j.current=new b.a(w.current,{type:"line",data:{labels:s,datasets:[{label:i("dataType.infected"),borderColor:Object(g.a)(d.b.RISKY).textInBlueishBg,backgroundColor:Object(g.a)(d.b.RISKY).textInBlueishBg,data:Object(l.a)(t.map((function(e){return e.infectedNumber})))},{label:i("dataType.recovered"),borderColor:Object(g.a)(d.b.SAFE).textInBlueishBg,backgroundColor:Object(g.a)(d.b.SAFE).textInBlueishBg,data:Object(l.a)(t.map((function(e){return e.recoveredNumber})))},{label:i("dataType.dead"),borderColor:Object(g.a)(d.b.DANGEROUS).textInBlueishBg,backgroundColor:Object(g.a)(d.b.DANGEROUS).textInBlueishBg,data:Object(l.a)(t.map((function(e){return e.deadNumber})))}]},options:{elements:{line:{fill:!1}},legend:{display:!1},tooltips:{mode:"index",intersect:!1,enabled:!1,custom:function(e){var t=document.getElementById("chartjs-tooltip");if(t||((t=document.createElement("div")).id="chartjs-tooltip",t.innerHTML="<table></table>",document.body.appendChild(t)),0!==e.opacity){if(t.classList.remove("above","below","no-transform"),e.yAlign?t.classList.add(e.yAlign):t.classList.add("no-transform"),e.body){var a=e.title||[],r=e.body.map((function(e){return e.lines})),o="<thead>";a.forEach((function(e){o+='<tr><th style="color: #2C3D97; font-weight: 500; font-size: 14px; line-height: 16px; text-align: left; ">'+u()(e).format(n.DISPLAY)+"</th></tr>"})),o+="</thead><tbody>",r.forEach((function(t,a){var n="color: "+e.labelColors[a].backgroundColor+"; ";n+="font-weight: 400; ",n+="font-size: 14px; ",n+="line-height: 16px; ",o+='<tr><td style="'+(n+="text-align: left; ")+'">'+t+"</td></tr>"})),o+="</tbody>",t.querySelector("table").innerHTML=o}var i=w.current.getBoundingClientRect();t.style.opacity=1,t.style.zIndex=1e4,t.style.transform="translate(10px, -100%)",t.style.padding="8px 10px",t.style.position="absolute",t.style.backgroundColor="white",t.style.borderRadius="6px",t.style.left=i.left+window.pageXOffset+e.caretX+"px",t.style.top=i.top+window.pageYOffset+e.caretY+"px",t.style.fontFamily="Rubik",t.style.fontSize=e.bodyFontSize+"px",t.style.fontStyle=e._bodyFontStyle,t.style.pointerEvents="none"}else t.style.opacity=0}},scales:{xAxes:[{position:"top",type:"time",time:{unit:"day",minUnit:"day",displayFormats:{day:"DD"}},ticks:{padding:24,min:e.from,max:e.to,fontColor:"#2C3D97",fontFamily:"Rubik",fontSize:16,fontStyle:"bold"},gridLines:{drawBorder:!1}}],yAxes:[{position:"right",gridLines:{display:!1,drawBorder:!1},ticks:{beginAtZero:!0,padding:16,maxTicksLimit:6,fontFamily:"Rubik",fontStyle:"normal",fontSize:12,fontColor:"rgba(123, 129, 163, 0.5)"}}]},plugins:{zoom:{pan:{enabled:!0,mode:"x",rangeMin:{x:new Date(s[0]).setHours(new Date(s[0]).getHours()-4)},rangeMax:{x:new Date(s[s.length-1]).setDate(new Date(s[s.length-1]).getDate())},onPan:function(){D(!0)},onPanComplete:function(e){var t=e.chart,a=t.scales["x-axis-0"].ticks[0],n=t.scales["x-axis-0"].ticks.length-1;M({from:u()(a).format("[".concat(u()().year(),"]-MM-DD")),range:n}),D(!1)}},zoom:{enabled:!1,mode:"x",rangeMin:{x:new Date(s[0]).setHours(new Date(s[0]).getHours()-4)},rangeMax:{x:new Date(s[s.length-1]).setDate(new Date(s[s.length-1]).getDate())},onZoom:function(){}}}}}}),function(){}}),[]);var k=function(e){var t,a,n,r,o=e.from,i=e.to;(null===(t=j.current)||void 0===t||null===(a=t.options)||void 0===a||null===(n=a.scales)||void 0===n||null===(r=n.xAxes)||void 0===r?void 0:r[0].ticks)&&(j.current.options.scales.xAxes[0].ticks.min=o,j.current.options.scales.xAxes[0].ticks.max=i,j.current.update(),M({from:e.from,range:e.range}))};return o.a.createElement(p.a,{pt:2,pr:2,pb:2,bgcolor:"secondary.main",className:f.container},o.a.createElement(p.a,{pl:2,pb:2},o.a.createElement(S.a,{container:!0,justify:"space-between"},o.a.createElement(h.a,{variant:"subtitle1"},function(){var e=I({data:s,minVisible:a,from:B.from,range:B.range}).data.map((function(e){return u()(e).format("MMMM")}));return Object(l.a)(new Set(e))}().join("-")),o.a.createElement(S.a,{item:!0,className:"actions"},o.a.createElement(S.a,{container:!0},o.a.createElement(x.a,{className:f.btnStyle,onClick:function(){var e=B.from,t=B.range,n=I({data:s,minVisible:a,from:e,range:-Math.abs(t)});k(n)},size:"small"},o.a.createElement(v.a,null)),o.a.createElement(p.a,{m:1}),o.a.createElement(x.a,{className:f.btnStyle,onClick:function(){var e=B.from,t=B.range,n=I({data:s,minVisible:a,from:e,range:t}),r=I({data:s,minVisible:a,from:n.to,range:Math.abs(t)});k(r)},size:"small"},o.a.createElement(E.a,null)))))),o.a.createElement(p.a,{style:{cursor:O?"grabbing":"grab"}},o.a.createElement("canvas",{id:"myChart",ref:w})))}),(function(){return!0}));t.default=function(){var e=Object(r.useContext)(s.a),t=e.zones,a=e.selectedZoneId,n=Object(N.a)().t,l=Object(i.a)(a,t),c=((null===l||void 0===l?void 0:l.properties)||{}).history,d=void 0===c?[]:c;return o.a.createElement(p.a,{mt:4,mb:4},o.a.createElement(p.a,{mb:1},o.a.createElement(h.a,{variant:"subtitle1"},n("history.title"))),o.a.createElement(A,{data:d,minVisible:8}))}}}]);
//# sourceMappingURL=Graph.600aae7b.chunk.js.map