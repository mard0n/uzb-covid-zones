{"version":3,"sources":["screens/Login.tsx","api/auth.ts"],"names":["Login","location","useLocation","history","useHistory","useState","username","setUsername","password","setPassword","message","setMessage","type","onChange","e","target","value","onClick","Axios","post","authenticate","then","res","data","sessionStorage","setItem","replace","state","from"],"mappings":"+JAiCeA,UA3BsB,WACnC,IAAMC,EAAWC,cACXC,EAAUC,cAFyB,EAGTC,mBAAS,IAHA,mBAGlCC,EAHkC,KAGxBC,EAHwB,OAITF,mBAAS,IAJA,mBAIlCG,EAJkC,KAIxBC,EAJwB,OAKXJ,mBAAS,IALE,mBAKlCK,EALkC,KAKzBC,EALyB,KAiBzC,OACE,oCACGD,EACD,2BAAOE,KAAK,OAAOC,SAAU,SAACC,GAAD,OAAOP,EAAYO,EAAEC,OAAOC,UACzD,2BAAOJ,KAAK,WAAWC,SAAU,SAACC,GAAD,OAAOL,EAAYK,EAAEC,OAAOC,UAC7D,4BAAQC,QAhBS,WACnBN,EAAW,ICXa,SAAC,GAAsC,IAAD,IAAnCL,gBAAmC,MAAxB,GAAwB,MAApBE,gBAAoB,MAAT,GAAS,EAChE,OAAOU,IAAMC,KAA8B,oBAAqB,CAC9Db,WACAE,aDSAY,CAAa,CAAEd,WAAUE,aAAYa,MAAK,SAACC,GACrCA,EAAIC,MACNC,eAAeC,QAAQ,QAASH,EAAIC,MACpCpB,EAAQuB,QAASzB,EAAS0B,MAAcC,OAExCjB,EAAW,0BASb","file":"static/js/Login.0544a30a.chunk.js","sourcesContent":["import React, { useState } from \"react\";\nimport { useHistory, useLocation } from \"react-router-dom\";\nimport { authenticate } from \"../api/auth\";\n\nexport interface LoginProps {}\n\nconst Login: React.SFC<LoginProps> = () => {\n  const location = useLocation();\n  const history = useHistory();\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [message, setMessage] = useState(\"\");\n  const handleSubmit = () => {\n    setMessage(\"\");\n    authenticate({ username, password }).then((res) => {\n      if (res.data) {\n        sessionStorage.setItem(\"token\", res.data);\n        history.replace((location.state as any).from);\n      } else {\n        setMessage(\"Wrong credentials\");\n      }\n    });\n  };\n  return (\n    <>\n      {message}\n      <input type=\"text\" onChange={(e) => setUsername(e.target.value)} />\n      <input type=\"password\" onChange={(e) => setPassword(e.target.value)} />\n      <button onClick={handleSubmit}>Submit</button>\n    </>\n  );\n};\n\nexport default Login;\n","import Axios from \"axios\";\n\nexport const authenticate = ({ username = \"\", password = \"\" }) => {\n  return Axios.post(process.env.PUBLIC_URL + \"/api/authenticate\", {\n    username,\n    password,\n  });\n};\n\n// export const checkAuthentication = (token: string) => {\n//   return Axios.get(\"http://localhost:4000/api/is-authenticated\", {\n//     headers: {\n//       authorization: `Bearer ${token}`,\n//     },\n//   });\n// };\n"],"sourceRoot":""}