(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[4],{113:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return t.find((function(t){return t._id===e}))}},115:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(157),o=function(e){var t,n,o,r;switch(Object(a.a)()){case"uz":r=null===e||void 0===e||null===(t=e.properties)||void 0===t?void 0:t.displayNameUz;break;case"ru":r=null===e||void 0===e||null===(n=e.properties)||void 0===n?void 0:n.displayNameRu;break;default:r=null===e||void 0===e||null===(o=e.properties)||void 0===o?void 0:o.displayNameUz}return r}},117:function(e,t,n){"use strict";var a=n(118);t.a=function(e,t){var n="",o="",r="",l="";switch(e){case a.b.DANGEROUS:n="#EA5C73",o="#FF4967",r=t&&t("selectedZoneName.statusBadge.dangerous"),l="#ff0c0c26";break;case a.b.RISKY:n="#EF7C38",o="#FF9635",r=t&&t("selectedZoneName.statusBadge.warning"),l="#ffeb0159";break;case a.b.SAFE:n="#87D03F",o="#87D03F",r=t&&t("selectedZoneName.statusBadge.safe"),l="#8ff8293d"}return{textInWhiteBg:n,textInBlueishBg:o,text:r,bgColor:l}}},118:function(e,t,n){"use strict";var a,o;n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return o})),function(e){e.DANGEROUS="DANGEROUS",e.RISKY="RISKY",e.SAFE="SAFE"}(a||(a={})),function(e){e.DISTRICT="DISTRICT",e.CITY="CITY",e.REGION="REGION",e.COUNTRY="COUNTRY"}(o||(o={}))},156:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(115),o=function e(t,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=n.find((function(e){var n,a;return(null===(n=e.properties)||void 0===n?void 0:n.displayName)===(null===(a=t.properties)||void 0===a?void 0:a.parentZone)}));return r?(o.push(Object(a.a)(r)),e(r,n,o)):o.join(", ")}},157:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(38),o=function(){return a.a.language||"undefined"!==typeof window&&window.localStorage.i18nextLng||"uz"}},235:function(e,t,n){},262:function(e,t,n){e.exports=n.p+"static/media/virus-small.970e315a.svg"},264:function(e,t,n){e.exports=n.p+"static/media/virus-big.f78fcd20.svg"},265:function(e,t,n){e.exports=n.p+"static/media/hand.47246aac.svg"},345:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(180),l=n.n(r),i=n(43),c=n(35),u=n(343),s=n(113),p=function(e){var t=o.a.lazy(e);return t.preload=e,t},d=n(41),m=n(104),f=n(105),v=n(335),b=n(347),g=n(346),x=n(336),h=n(197),y=n.n(h),E=n(219),w=Object(m.a)((function(e){return{root:{display:"flex"},drawer:{flexShrink:0,width:"50%",maxWidth:600},drawerPaper:{width:"50%",maxWidth:600,boxShadow:"0px 4px 40px rgba(0, 30, 89, 0.09)"},bottomSheetPaper:{borderTopLeftRadius:"30px",borderTopRightRadius:"30px",backgroundColor:"white",fontSize:"18px",padding:"30px 20px"},notch:{position:"absolute",top:12.5,left:"50%",transform:"translateX(-50%)",width:37,height:5,background:"#E3E3E3",borderRadius:9}}})),O=function(e){var t=Object(a.useState)(!1),n=Object(d.a)(t,2),r=n[0],l=n[1],i=w(),c=Object(f.a)((function(e){return e.breakpoints.up("md")})),u=e.map,s=e.mainContent,p=e.search,m=function(){return l(!1)};return o.a.createElement(o.a.Fragment,null,c?o.a.createElement(v.a,{container:!0},o.a.createElement(b.a,{className:"".concat(i.drawer),variant:"permanent",classes:{paper:i.drawerPaper},anchor:"left"},o.a.createElement(E.Scrollbars,{style:{padding:"32px 40px"},autoHide:!0},o.a.createElement(g.a,{pt:4,pb:4,pl:5,pr:5},o.a.createElement(g.a,{mb:3},o.a.cloneElement(p,{isInsidePaper:!0})),s))),o.a.createElement(g.a,{height:"100vh",flexGrow:1,zIndex:1},u)):o.a.createElement(o.a.Fragment,null,o.a.createElement(v.a,{container:!0},o.a.createElement(g.a,{position:"absolute",width:"100%",paddingTop:"8px",paddingLeft:"8px",paddingRight:"8px",zIndex:100},o.a.cloneElement(p,{isInsidePaper:!1,closeBottomSheet:m})),o.a.createElement(g.a,{height:"calc(100vh - 190px)",flexGrow:1,zIndex:1},o.a.cloneElement(u,{closeBottomSheet:m})),o.a.createElement(g.a,{zIndex:100},o.a.createElement(y.a,{overflowHeight:200,shadowTip:!1,topShadow:!1,overlay:!1,open:r,onChange:function(e){return l(e)}},o.a.createElement(x.a,{elevation:11,className:i.bottomSheetPaper},o.a.createElement(g.a,{className:i.notch}),o.a.createElement(g.a,null,s)))))))},S=n(131),C=(n(235),n(348)),j=n(176),N=n(349),k=n(242),R=n.n(k),I=n(353),z=["handleAutoLocate","InputProps","InputLabelProps","bgColor","boxShadow","elevation","inputRef"],F=Object(m.a)((function(e){return{inputContainer:{display:"flex",alignItems:"center",height:48,borderRadius:24,paddingLeft:16,paddingRight:16},input:{marginLeft:e.spacing(1),fontWeight:400},autoLocate:{boxShadow:"0px 4px 10px rgba(27, 41, 83, 0.24)",height:"30px",width:"30px",backgroundColor:"white"},autoLocateIcon:{transform:"rotate(27deg) translateY(-1px)",fontSize:"1rem"}}})),T=function(e){e.handleAutoLocate;var t=e.InputProps,n=(e.InputLabelProps,e.bgColor),a=e.boxShadow,r=e.elevation,l=e.inputRef,i=Object(j.a)(e,z),c=Object(S.a)(),u=F(c),s=Object(I.a)().t;return o.a.createElement(x.a,{ref:t.ref,component:"form",className:u.inputContainer,style:{backgroundColor:n,boxShadow:a},elevation:r},o.a.createElement(R.a,null),o.a.createElement(N.a,Object.assign({},i,{className:u.input,placeholder:s("search.searchForCity"),inputRef:l})))},Z=n(13),L=n(117),B=a.memo((function(e){var t=e.status,n=e.style,o=void 0===n?{}:n,r=Object(L.a)(t),l={display:"inline-block",width:8,height:8,borderRadius:4,backgroundColor:null===r||void 0===r?void 0:r.textInWhiteBg};return a.createElement(g.a,{style:Object(Z.a)(Object(Z.a)({},l),o),component:"span"})}),(function(){return!0})),A=n(338),P=n(156),U=n(115),W=function(e){var t,n=e.zone,a=e.zones,r=Object(P.a)(n,a);return o.a.createElement(v.a,{container:!0,direction:"row",wrap:"nowrap",alignItems:"flex-start",style:{height:"100%"}},o.a.createElement(B,{status:null===n||void 0===n||null===(t=n.properties)||void 0===t?void 0:t.status,style:{marginTop:4,marginLeft:8,width:9}}),o.a.createElement(g.a,{component:"span",mr:2}),o.a.createElement(v.a,{container:!0,item:!0,direction:"column",wrap:"nowrap"},o.a.createElement(A.a,{variant:"body1",noWrap:!0,style:{lineHeight:"20px"}},Object(U.a)(n)),r&&o.a.createElement(A.a,{variant:"caption",style:{lineHeight:"20px",color:"#A5A3B2"}},r)))},D=function(e){var t=Object(I.a)().t;return o.a.createElement(x.a,{className:e.className,elevation:0,style:{boxShadow:"0px 3px 10px rgba(30, 43, 114, 0.09)"}},o.a.createElement(A.a,{variant:"overline",color:"textSecondary"},t("search.searchResults")),e.children)},H=n(339),M=n(319),_=["children"];function Y(e){var t=e.data,n=e.index,a=e.style;return o.a.cloneElement(t[n],{style:Object(Z.a)(Object(Z.a)({},a),{},{top:a.top+8})})}var G=o.a.createContext({}),J=o.a.forwardRef((function(e,t){var n=o.a.useContext(G);return o.a.createElement("div",Object.assign({ref:t},e,n))}));var K=o.a.forwardRef((function(e,t){var n=e.children,a=Object(j.a)(e,_),r=o.a.Children.toArray(n),l=(Object(S.a)(),r.length),i=function(e){return o.a.isValidElement(e)&&(e.type,H.a),56},c=function(e){var t=o.a.useRef(null);return o.a.useEffect((function(){null!=t.current&&t.current.resetAfterIndex(0,!0)}),[e]),t}(l);return o.a.createElement("div",{ref:t},o.a.createElement(G.Provider,{value:a},o.a.createElement(M.a,{itemData:r,height:(l>5?280:r.map(i).reduce((function(e,t){return e+t}),0))+16,width:"100%",ref:c,outerElementType:J,innerElementType:"ul",itemSize:function(e){return i(r[e])},overscanCount:5,itemCount:l},Y)))})),V=n(159),X=n.n(V),q=n(340),Q=n(243),$=n.n(Q),ee=(n(259),n(260),n(118)),te=n(37),ne=Object(m.a)((function(e){return{suggestedZoneContainer:{},suggestedZones:{fontSize:"14px",lineHeight:"17px",padding:"8px 16px 8px 16px",borderRadius:"43px",textTransform:"unset",whiteSpace:"nowrap",fontWeight:400},suggestedZonesWeb:{color:"rgba(59, 56, 88, 0.72)",backgroundColor:"#ebebebc7",boxShadow:"none"},suggestedZonesMobile:{color:"rgba(36, 43, 67, 0.77)",background:"#FFFFFF",boxShadow:"4px 6px 10px rgba(30, 43, 114, 0.09)"}}})),ae=function(e){var t=e.zones,n=e.selectZone,r=Object(a.useState)(),l=Object(d.a)(r,2),i=l[0],c=l[1],u=Object(S.a)(),s=ne(u),p=Object(f.a)((function(e){return e.breakpoints.up("md")}));Object(a.useEffect)((function(){var e=localStorage.getItem("last-selected-zone")||"";try{c(JSON.parse(e))}catch(t){}}),[]);var m={infinite:!1,variableWidth:!0,dots:!1,speed:300,arrows:!1},v=function(e){n(e)};return(null===t||void 0===t?void 0:t.length)>0?o.a.createElement($.a,m,i?o.a.createElement(g.a,{key:"suggestion-".concat(i._id),mr:.5},o.a.createElement(q.a,{variant:"contained",className:"".concat(s.suggestedZones," ").concat(p?s.suggestedZonesWeb:s.suggestedZonesMobile),startIcon:o.a.createElement(X.a,{fontSize:"small",color:"primary"}),onClick:function(){return v(i)}},Object(U.a)(i))):o.a.createElement(o.a.Fragment,null),function(e,t){return e.sort((function(e,t){var n,a,o,r;return(null===t||void 0===t||null===(n=t.properties)||void 0===n||null===(a=n.total)||void 0===a?void 0:a.infectedNumber)-(null===e||void 0===e||null===(o=e.properties)||void 0===o||null===(r=o.total)||void 0===r?void 0:r.infectedNumber)})).filter((function(e){var n;return t.includes(null===e||void 0===e||null===(n=e.properties)||void 0===n?void 0:n.placeType)}))}(t,[ee.a.CITY,ee.a.REGION]).map((function(e,n){return n<=1&&o.a.createElement(g.a,{key:"suggestion-".concat(e._id),ml:0!==n?.5:0,mr:n!==t.length-1?.5:0},o.a.createElement(q.a,{variant:"contained",className:"".concat(s.suggestedZones," ").concat(p?s.suggestedZonesWeb:s.suggestedZonesMobile),startIcon:o.a.createElement(X.a,{fontSize:"small",color:"primary"}),onClick:function(){return v(e)}},Object(U.a)(e)))}))):o.a.createElement(te.a,{mdUp:p})},oe=Object(m.a)((function(e){return{optionContainerPaper:{borderRadius:24,marginTop:8,padding:24},option:{padding:"8px 0",height:50,'&[data-focus="true"]':{backgroundColor:"rgba(0, 0, 0, .02)"}},suggestedZoneContainer:{},suggestedZones:{backgroundColor:"rgba(72, 99, 244, 0.11)",color:"rgba(59, 56, 88, 0.72)",fontSize:"14px",lineHeight:"17px",padding:"8px 16px 8px 16px",boxShadow:"none",borderRadius:"20px",textTransform:"unset",whiteSpace:"nowrap"}}})),re=function(e){var t=Object(f.a)((function(e){return e.breakpoints.up("md")})),n=e.isInsidePaper,r=e.closeBottomSheet,l=void 0===r?function(){}:r,u=Object(a.useContext)(c.a),s=u.zones,p=void 0===s?[]:s,m=u.dispatch,v=u.navigateTo,b=Object(a.useState)(null),g=Object(d.a)(b,2),x=g[0],h=g[1],y=Object(S.a)(),E=oe(y),w=Object(a.useRef)(),O=function(e){var t;m({type:i.a,payload:e._id}),l(),h(e),null===(t=w.current)||void 0===t||t.blur()},j=n?"light"===y.palette.type?"#ebebebc7":"#bdc0cb":"light"===y.palette.type?"#FFF":"#bdc0cb",N=n?0:2,k=function(e,t){v({lat:e,lng:t})};return o.a.createElement(o.a.Fragment,null,o.a.createElement(C.a,{id:"search-bank-name",classes:{option:E.option,paper:E.optionContainerPaper},options:p,getOptionSelected:function(e,t){return(null===t||void 0===t?void 0:t._id)===(null===e||void 0===e?void 0:e._id)},getOptionLabel:function(e){return Object(U.a)(e)},value:x,onChange:function(e,t,n){if("select-option"===n&&(null===t||void 0===t?void 0:t._id)){O(t);try{localStorage.setItem("last-selected-zone",JSON.stringify(t))}catch(a){}}},onFocus:l,filterOptions:function(e,t){return e.filter((function(e){var n,a,o,r,l,i,c,u;return(null===e||void 0===e||null===(n=e.properties)||void 0===n||null===(a=n.alias)||void 0===a?void 0:a.some((function(e){var n;return null===e||void 0===e?void 0:e.toLowerCase().includes(null===t||void 0===t||null===(n=t.inputValue)||void 0===n?void 0:n.toLowerCase())})))||(null===e||void 0===e||null===(o=e.properties)||void 0===o||null===(r=o.displayNameUz)||void 0===r?void 0:r.toLowerCase().includes(null===t||void 0===t||null===(l=t.inputValue)||void 0===l?void 0:l.toLowerCase()))||(null===e||void 0===e||null===(i=e.properties)||void 0===i||null===(c=i.displayNameRu)||void 0===c?void 0:c.toLowerCase().includes(null===t||void 0===t||null===(u=t.inputValue)||void 0===u?void 0:u.toLowerCase()))}))},renderInput:function(e){return o.a.createElement(T,Object.assign({},e,{bgColor:j,boxShadow:t?"unset":"4px 6px 10px rgba(30, 43, 114, 0.09)",elevation:N,inputRef:w,handleAutoLocate:k}))},renderOption:function(e){return o.a.createElement(W,{zone:e,zones:p})},PaperComponent:D,ListboxComponent:K,autoHighlight:!0,autoComplete:!0,clearOnEscape:!0,clearOnBlur:!0}),o.a.createElement(ae,{zones:p,selectZone:O}))},le=n(355),ie=n(262),ce=n.n(ie),ue=n(263),se=n.n(ue),pe=Object(m.a)((function(e){return Object(le.a)({paper:{backgroundColor:e.palette.primary.main,color:"white",padding:16,borderRadius:9,position:"relative",overflow:"hidden"},flex:{display:"flex"},textMain:{},textSecondary:{opacity:"50%",fontWeight:400},textSecondaryMobile:{lineHeight:"1.2",marginTop:"4px",fontSize:"14px"}})})),de={position:"absolute",bottom:"50%",left:"0",transform:"translate(-54%, 50%)"},me=function(){var e=Object(S.a)(),t=pe(e),n=Object(I.a)().t,a=Object(f.a)((function(e){return e.breakpoints.up("sm")}));return o.a.createElement(g.a,{mt:4,mb:4},o.a.createElement(x.a,{className:t.paper,style:{cursor:"pointer"},elevation:0,onClick:function(){window.open("tel:+1303499-7111","_blank")}},o.a.createElement(v.a,{container:!0,justify:"space-between",alignItems:"center",wrap:"nowrap"},o.a.createElement(v.a,{className:t.flex,container:!0,item:!0,alignItems:"center",wrap:"nowrap"},o.a.createElement("img",{src:ce.a,style:a?void 0:de}),o.a.createElement(g.a,{mr:2}),o.a.createElement(v.a,{item:!0,container:!0,direction:"column",wrap:"nowrap"},o.a.createElement(A.a,null,n("callBanner.title")),o.a.createElement(A.a,{className:"".concat(t.textSecondary," ").concat(!a&&t.textSecondaryMobile)},n("callBanner.subtitle")))),o.a.createElement(v.a,{item:!0},o.a.createElement(se.a,null)))))},fe=n(264),ve=n.n(fe),be=n(265),ge=n.n(be),xe=Object(m.a)({papar:{position:"relative",padding:"24px",overflow:"hidden"},caption:{opacity:"85%"}}),he={position:"absolute",top:"-40px",right:"0px"},ye=function(){var e=Object(S.a)(),t=pe(e),n=xe(),a=Object(I.a)().t;return o.a.createElement(x.a,{className:"".concat(t.paper," ").concat(n.papar),elevation:0},o.a.createElement("img",{style:he,src:ve.a,alt:"virus image"}),o.a.createElement(v.a,{item:!0,xs:12,sm:10,md:8},o.a.createElement(g.a,{height:"49px",mb:1},o.a.createElement("img",{src:ge.a,alt:"Hi"})),o.a.createElement(A.a,{variant:"subtitle1"},a("welcomeBanner.title")),o.a.createElement(A.a,{variant:"caption",className:n.caption},a("welcomeBanner.subtitle"))))},Ee=n(8),we=n(86),Oe=n(342),Se=n(266),Ce=n.n(Se),je=n(52),Ne=Object(m.a)({table:{},showMoreBtn:{marginLeft:"auto",marginRight:"auto",borderRadius:16,padding:"4px 16px",boxShadow:"unset !important"},tableCell:{textAlign:"center",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},tableCellText:{lineHeight:1},skeleton:{display:"inline-block",backgroundColor:"rgb(245, 247, 253)"}}),ke=(Object(Ee.a)({root:{borderBottom:"none",lineHeight:1.2,paddingLeft:function(e){return e.leftmost?"unset !important":"8px"},paddingRight:function(e){return e.rightmost?"unset !important":"8px"}}})(we.a),function(){var e,t,n=Object(a.useContext)(c.a),r=n.zones,l=n.selectedZoneId,u=n.dispatch,p=Object(s.a)(l,r),m=Ne(),b=Object(a.useState)(4),x=Object(d.a)(b,2),h=x[0],y=x[1],E=Object(I.a)().t,w=Object(f.a)((function(e){return e.breakpoints.up("md")})),O=r.find((function(e){var t,n;return(null===e||void 0===e||null===(t=e.properties)||void 0===t||null===(n=t.alias)||void 0===n?void 0:n.indexOf("Uzbekistan"))>-1}));console.log("selectedZone",p),console.log("defaultZone",O);var S=function(e,t){return t.filter((function(t){var n;return null===e||void 0===e?void 0:e.includes(null===(n=t.properties)||void 0===n?void 0:n.displayName)}))}(p?null===p||void 0===p||null===(e=p.properties)||void 0===e?void 0:e.childZones:null===O||void 0===O||null===(t=O.properties)||void 0===t?void 0:t.childZones,r);return console.log("childZones",S),S.length?o.a.createElement(g.a,{mt:4,mb:4},o.a.createElement(g.a,{mb:1},o.a.createElement(A.a,{variant:"subtitle1"},E("childZonesTable.title"))),o.a.createElement(v.a,{container:!0,spacing:2},o.a.createElement(v.a,{container:!0,item:!0},o.a.createElement(v.a,{item:!0,xs:6},o.a.createElement(A.a,{variant:"caption"},E("childZonesTable.zoneName"))),o.a.createElement(v.a,{item:!0,xs:2,className:m.tableCell},o.a.createElement(A.a,{variant:"caption",className:m.tableCellText},E("dataType.infected"))),o.a.createElement(v.a,{item:!0,xs:2,className:m.tableCell},o.a.createElement(A.a,{variant:"caption",className:m.tableCellText},E("dataType.recovered"))),o.a.createElement(v.a,{item:!0,xs:2,className:m.tableCell},o.a.createElement(A.a,{variant:"caption",className:m.tableCellText},E("dataType.dead")))),S.map((function(e,t){var n,a,r,l,c,s,p;return t+1<=h&&o.a.createElement(v.a,{container:!0,item:!0,key:e._id},o.a.createElement(v.a,{item:!0,xs:6,style:{overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"}},o.a.createElement(g.a,null,w&&o.a.createElement(B,{status:null===(n=e.properties)||void 0===n?void 0:n.status}),w&&o.a.createElement(g.a,{component:"span",mr:1}),o.a.createElement(Oe.a,{variant:"body1",component:"button",style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",textIndent:w?0:1,width:"calc(100% - 10px)",textAlign:"left"},onClick:function(){u({type:i.a,payload:e._id})}},Object(U.a)(e)))),o.a.createElement(v.a,{item:!0,xs:2,className:m.tableCell},null===e||void 0===e||null===(a=e.properties)||void 0===a||null===(r=a.total)||void 0===r?void 0:r.infectedNumber),o.a.createElement(v.a,{item:!0,xs:2,className:m.tableCell},null===e||void 0===e||null===(l=e.properties)||void 0===l||null===(c=l.total)||void 0===c?void 0:c.recoveredNumber),o.a.createElement(v.a,{item:!0,xs:2,className:m.tableCell},null===e||void 0===e||null===(s=e.properties)||void 0===s||null===(p=s.total)||void 0===p?void 0:p.deadNumber))}))),S.length>h&&o.a.createElement(g.a,{mt:2},o.a.createElement(v.a,{container:!0,justify:"center"},o.a.createElement(q.a,{className:m.showMoreBtn,variant:"contained",color:"primary",startIcon:o.a.createElement(Ce.a,null),onClick:function(){y(S.length)}},E("childZonesTable.seeMore"))))):p?o.a.createElement(o.a.Fragment,null):o.a.createElement(je.a,{mdUp:w})}),Re=n(160),Ie=n.n(Re),ze=(n(267),function(e){var t=Ie.a.DomUtil.create("div"),n=Ie.a.DomUtil.create("div");t.type=n.type="button",t.title="Zoom in",n.title="Zoom out",t.innerHTML="+",n.innerHTML="-",t.style.cursor=n.style.cursor="pointer",t.style.textAlign=n.style.textAlign="center",t.style.width=n.style.width="52px",t.style.height=n.style.height="52px",t.style.borderRadius=n.style.borderRadius="32px",t.style.background=n.style.background="#ffffff",t.style.boxShadow=n.style.boxShadow="0px 2px 1px -1px rgba(0,0,0,0.2),0px 1px 1px 0px rgba(0,0,0,0.14),0px 1px 3px 0px rgba(0,0,0,0.12)",t.style.lineHeight=n.style.lineHeight="52px",t.style.margin=n.style.margin="8px 0",t.style.fontWeight=n.style.fontWeight="500",t.style.fontSize=n.style.fontSize="28px",t.style.fontFamily=n.style.fontFamily="Rubik",t.style.color=n.style.color="#242b43",t.onmouseover=function(){t.style.boxShadow="0px 3px 3px -2px rgba(0,0,0,0.2),0px 3px 4px 0px rgba(0,0,0,0.14),0px 1px 8px 0px rgba(0,0,0,0.12)"},n.onmouseover=function(){n.style.boxShadow="0px 3px 3px -2px rgba(0,0,0,0.2),0px 3px 4px 0px rgba(0,0,0,0.14),0px 1px 8px 0px rgba(0,0,0,0.12)"},t.onmouseout=function(){t.style.boxShadow="0px 2px 1px -1px rgba(0,0,0,0.2),0px 1px 1px 0px rgba(0,0,0,0.14),0px 1px 3px 0px rgba(0,0,0,0.12)"},n.onmouseout=function(){n.style.boxShadow="0px 2px 1px -1px rgba(0,0,0,0.2),0px 1px 1px 0px rgba(0,0,0,0.14),0px 1px 3px 0px rgba(0,0,0,0.12)"},t.onclick=function(){e.zoomIn(1),console.log("+ buttonClicked")},n.onclick=function(){e.zoomOut(1),console.log("- buttonClicked")};var a=Ie.a.DomUtil.create("div");return a.appendChild(t),a.appendChild(n),a}),Fe=function(e){var t=e||[],n=Object(d.a)(t,4),a=n[0],o=n[1],r=n[2];return[[n[3],r],[o,a]]},Te={renderer:Ie.a.canvas({padding:1}),zoomControl:!1,zoomSnap:1,zoomDelta:1,minZoom:4},Ze=function(e){var t=e.closeBottomSheet,n=Object(a.useContext)(c.a),r=n.zones,l=void 0===r?[]:r,u=n.selectedZoneId,p=n.dispatch,d=Object(s.a)(u,l),m=Object(a.useRef)(),v=Object(a.useRef)(),b=Object(a.useRef)(),g=Object(f.a)((function(e){return e.breakpoints.up("md")})),x=Object(I.a)().t,h=function(e){var t,n,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];switch(e){case ee.b.DANGEROUS:t=a?"#FA0303":"#FB3535",n=a?.3:.2;break;case ee.b.RISKY:t="#FAFF00",n=a?.4:.2;break;case ee.b.SAFE:t=a?"#23FF00":"#23FD00",n=a?.5:.2;break;default:t="#23FD00",n=.2}return{fillColor:t,fillOpacity:n}},y=function(e){var t,n,a=null===(t=e.feature)||void 0===t||null===(n=t.properties)||void 0===n?void 0:n.status,o=h(a,!0),r=o.fillColor,l=o.fillOpacity;e.setStyle({fillColor:r,fillOpacity:l})},E=function(){var e;null===(e=v.current)||void 0===e||e.eachLayer((function(e){(function(e,t){var n,a,o,r;if(null===(n=e.properties)||void 0===n||null===(a=n.childZones)||void 0===a?void 0:a.length){var i=Fe(null===e||void 0===e?void 0:e.bbox);r=i[0][0]&&t.getBoundsZoom(i)||0}else r=18;var c=l.find((function(t){var n,a;return(null===t||void 0===t||null===(n=t.properties)||void 0===n?void 0:n.displayName)===(null===e||void 0===e||null===(a=e.properties)||void 0===a?void 0:a.parentZone)})),u=Fe(null===c||void 0===c?void 0:c.bbox),s=c&&u[0][0]&&t.getBoundsZoom(u)||0,p=(null===t||void 0===t?void 0:t.getZoom())||0;return p<=r&&p>s?(o=!!t.getBounds().overlaps(Fe(e.bbox)),o=!0):o=!1,o})(e.feature,m.current)?m.current.addLayer(e):m.current.removeLayer(e)}))};return Object(a.useEffect)((function(){m.current=Ie.a.map("map",Te);var e={attribution:g?'&copy; <a href="https://stadiamaps.com/">Stadia Maps</a>, &copy; <a href="https://openmaptiles.org/">OpenMapTiles</a> &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors':"",edgeBufferTiles:2};Ie.a.tileLayer("http://{s}.tile.osm.org/{z}/{x}/{y}.png",e).addTo(m.current),m.current.setView([40.92930626579717,64.61999498705462],5);var t=Ie.a.Control.extend({options:{position:"bottomright"},onAdd:ze});return g&&m.current.addControl(new t),function(){m.current&&m.current.remove&&(m.current.off(),m.current.remove())}}),[]),Object(a.useEffect)((function(){return v.current=Ie.a.geoJSON(l,{style:function(e){var t,n=null===e||void 0===e||null===(t=e.properties)||void 0===t?void 0:t.status,a=h(n);return{fillColor:a.fillColor,fillOpacity:a.fillOpacity,color:"#A4A2AE",weight:2}},onEachFeature:function(e,t){var n,a,o,r,l,c,u,s;t.on({click:function(t){var n,a;null===(n=v.current)||void 0===n||n.resetStyle(b.current),y(t.target),b.current=t.target,a=e,p({type:i.a,payload:a._id}),t.target.openPopup()},mouseover:function(e){s=setTimeout((function(){e.target.openPopup()}),1e3),y(e.target)},mouseout:function(e){var t,n,a,o;clearTimeout(s),(null===(t=b.current)||void 0===t||null===(n=t.feature)||void 0===n?void 0:n._id)===(null===(a=e.target)||void 0===a||null===(o=a.feature)||void 0===o?void 0:o._id)||function(e){var t,n,a=null===(t=e.feature)||void 0===t||null===(n=t.properties)||void 0===n?void 0:n.status,o=h(a,!1),r=o.fillColor,l=o.fillOpacity;e.setStyle({fillColor:r,fillOpacity:l})}(e.target)}}),t.bindPopup('\n          <style>\n          .custom-popup-style .leaflet-popup-content-wrapper {\n            background: #FFFFFF;\n            box-shadow: 0px 4px 40px rgba(0, 30, 89, 0.09);\n            border-radius: 11px;\n          }\n          .custom-popup-style .leaflet-popup-tip {\n            box-shadow: 0px 4px 40px rgba(0, 30, 89, 0.09);\n          }\n          .custom-popup-style .title-container {\n            display: flex;\n            align-items: center;\n            margin-bottom: 8px;\n            margin-right: 8px;\n            position: relative;\n          }\n          .custom-popup-style .zone-status-pin {\n            display: inline-block;\n            width: 8px;\n            height: 8px;\n            border-radius: 4px;\n            margin-right: 5px;\n          }\n          .custom-popup-style .zone-name {\n            font-family: Rubik;\n            font-size: 16px;\n            font-weight: 500;\n            line-height: 16px;\n            color: #242B43;\n            margin: 0;\n          }\n          .custom-popup-style .data {\n            font-family: Rubik;\n            font-size: 14px;\n            font-weight: 500;\n            line-height: 20px;\n            margin: 0;\n          }\n          </style>\n          <div class=\'title-container\'>\n            <span class="zone-status-pin" style="\n              background-color: '.concat(Object(L.a)(null===(n=e.properties)||void 0===n?void 0:n.status).textInBlueishBg,'\n            "></span>\n            <h5 class="zone-name">').concat(Object(U.a)(e),'</h5>\n          </div>\n          <p class="data infected" style="\n            color: ').concat(Object(L.a)(ee.b.RISKY).textInWhiteBg,'\n          ">').concat(x("dataType.infected")," ").concat(null===(a=e.properties)||void 0===a||null===(o=a.total)||void 0===o?void 0:o.infectedNumber,'</p>\n          <p class="data recovered" style="\n            color: ').concat(Object(L.a)(ee.b.SAFE).textInWhiteBg,'\n          ">').concat(x("dataType.recovered")," ").concat(null===(r=e.properties)||void 0===r||null===(l=r.total)||void 0===l?void 0:l.recoveredNumber,'</p>\n          <p class="data dead" style="\n            color: ').concat(Object(L.a)(ee.b.DANGEROUS).textInWhiteBg,'\n          ">').concat(x("dataType.dead")," ").concat(null===(c=e.properties)||void 0===c||null===(u=c.total)||void 0===u?void 0:u.deadNumber,"</p>\n          "),{className:"custom-popup-style"})}}).addTo(m.current),E(),m.current.on("zoomend",(function(){var e,t,n=null===(e=m.current)||void 0===e?void 0:e.getZoom(),a=null===(t=m.current)||void 0===t?void 0:t.getCenter();if((null===a||void 0===a?void 0:a.lat)&&(null===a||void 0===a?void 0:a.lng)&&n&&"URLSearchParams"in window){var o=new URLSearchParams(window.location.search);o.set("lat",JSON.stringify(a.lat)),o.set("lng",JSON.stringify(a.lng)),o.set("zoom",JSON.stringify(n)),o.toString();var r=window.location.pathname+"?"+o.toString();window.history.pushState(null,"",r)}E()})),function(){}}),[l]),Object(a.useEffect)((function(){if(d){var e,n=Fe(null===d||void 0===d?void 0:d.bbox);null===(e=m.current)||void 0===e||e.flyToBounds(n),t&&t()}}),[d]),o.a.createElement("div",{id:"map",style:{width:"100%",height:"100%"}})},Le=p((function(){return n.e(3).then(n.bind(null,344))})),Be=p((function(){return n.e(1).then(n.bind(null,351))})),Ae=p((function(){return Promise.all([n.e(10),n.e(0)]).then(n.bind(null,352))})),Pe=p((function(){return Promise.all([n.e(9),n.e(2)]).then(n.bind(null,354))}));t.default=function(){var e,t=Object(a.useContext)(c.a),n=t.dispatch,r=t.selectedZoneId,p=t.zones,d=void 0===p?[]:p,m=Object(s.a)(r,d);return Object(a.useEffect)((function(){return function(){console.log("process.env.PUBLIC_URL","");return l.a.get("/api/zones")}().then((function(e){n({type:i.b,payload:e.data||[]}),console.log("res.data",e.data),Le.preload(),Be.preload(),Ae.preload(),Pe.preload()})),function(){}}),[]),o.a.createElement(o.a.Fragment,null,o.a.createElement(u.a,null),o.a.createElement(O,{search:o.a.createElement(re,null),map:o.a.createElement(Ze,null),mainContent:o.a.createElement(a.Suspense,{fallback:o.a.createElement(o.a.Fragment,null,"Loading...")},!m&&o.a.createElement(ye,null),m&&o.a.createElement(Le,null),m&&o.a.createElement(Be,null),(null===m||void 0===m||null===(e=m.properties)||void 0===e?void 0:e.history)&&o.a.createElement(Ae,null),o.a.createElement(ke,null),o.a.createElement(me,null),m&&o.a.createElement(Pe,null))}))}}}]);
//# sourceMappingURL=User.4c9e1421.chunk.js.map