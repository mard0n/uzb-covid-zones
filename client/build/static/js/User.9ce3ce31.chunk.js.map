{"version":3,"sources":["utils/getSelectedZoneObj.ts","utils/getProperDisplayName.ts","utils/getZoneStatusProps.ts","types/zone.ts","utils/getParents.ts","utils/getLanguage.ts","assets/images/virus-small.svg","assets/images/virus-big.svg","assets/images/hand.svg","utils/lazyPreload.tsx","components/Layout.tsx","components/Search/SearchInput.tsx","components/Search/ZoneStatusPin.tsx","components/Search/SearchOption.tsx","components/Search/SearchOptionsPaper.tsx","components/Search/ListboxComponent.tsx","components/Search/SuggestedZones.tsx","utils/sortBasedOnTotalInfected.ts","components/Search/index.tsx","components/Banners/CallBanner.tsx","components/Banners/WelcomeBanner.tsx","components/ChildZonesTable/ChildZones.tsx","utils/getChildZones.ts","components/Map/Controlls.tsx","components/Map/index.tsx","utils/getLatLngFromBBox.ts","screens/User.tsx","api/zones.ts"],"names":["getSelectedZoneObjById","id","zones","find","zone","_id","getProperDisplayName","displayName","getLanguage","properties","getZoneStatusProps","status","t","textColorInWhite","textColorInBlue","text","bgColor","ZoneStatus","DANGEROUS","RISKY","SAFE","textInWhiteBg","textInBlueishBg","PlaceType","getParents","parentZoneList","parentZone","z","push","join","module","exports","lazyPreload","factory","Component","React","lazy","preload","useStyles","makeStyles","theme","root","display","drawer","flexShrink","width","maxWidth","drawerPaper","boxShadow","bottomSheetPaper","borderTopLeftRadius","borderTopRightRadius","backgroundColor","fontSize","padding","notch","position","top","left","transform","height","background","borderRadius","Layout","props","useState","isBottomSheetOpen","setIsBottomSheetOpen","dispatch","useContext","StateContext","classes","mdUp","useMediaQuery","breakpoints","up","map","mainContent","search","handleBottomSheetClose","useEffect","type","ADD_CLOSE_BOTTOM_SHEET_FN","payload","Grid","container","Drawer","className","variant","paper","anchor","style","autoHide","Box","pt","pb","pl","pr","mb","cloneElement","isInsidePaper","flexGrow","zIndex","paddingTop","paddingLeft","paddingRight","overflowHeight","shadowTip","topShadow","overlay","open","onChange","isOpen","Paper","elevation","inputContainer","alignItems","input","marginLeft","spacing","fontWeight","autoLocate","autoLocateIcon","SearchInput","InputProps","InputLabelProps","inputRef","otherProps","useTheme","useTranslation","ref","component","InputBase","placeholder","statusColor","boxStyle","SearchOption","parentZonesString","direction","wrap","marginTop","mr","item","Typography","noWrap","lineHeight","color","SearchOptionsPaper","children","renderRow","data","index","OuterElementContext","createContext","OuterElementType","forwardRef","outerProps","ListboxComponent","other","itemData","Children","toArray","itemCount","length","getChildSize","child","isValidElement","ListSubheader","gridRef","useRef","current","resetAfterIndex","useResetCache","Provider","value","reduce","a","b","outerElementType","innerElementType","itemSize","overscanCount","suggestedZoneContainer","suggestedZones","textTransform","whiteSpace","suggestedZonesWeb","suggestedZonesMobile","SuggestedZones","selectZone","lastSelectedZone","setLastSelectedZone","lastSelectedZoneLS","localStorage","getItem","JSON","parse","error","settings","infinite","variableWidth","dots","speed","arrows","handleSuggestionsClick","key","Button","startIcon","onClick","acceptedZoneTypes","sort","total","infectedNumber","filter","includes","placeType","sortBasedOnTotalInfected","CITY","REGION","ml","optionContainerPaper","option","Search","navigateTo","closeBottomSheet","selectedZone","setSelectedZone","ADD_SELECTED_ZONE_ID","blur","palette","Autocomplete","options","getOptionSelected","getOptionLabel","event","reason","setItem","stringify","onFocus","filterOptions","state","i","alias","some","toLowerCase","inputValue","displayNameUz","displayNameRu","renderInput","params","renderOption","PaperComponent","autoHighlight","autoComplete","clearOnEscape","clearOnBlur","createStyles","primary","main","overflow","flex","textMain","textSecondary","opacity","textSecondaryMobile","imgStyleMobile","bottom","CallBanner","smUp","mt","cursor","window","justify","src","VirusSmall","undefined","papar","caption","backgroundVirusImg","right","WelcomeBanner","callBannerClasses","useCallBannerStyles","VirusBig","alt","xs","sm","md","Hand","table","showMoreBtn","marginRight","tableCell","textAlign","textOverflow","tableCellText","skeleton","ChildZones","withStyles","borderBottom","leftmost","rightmost","MuiTableCell","selectedZoneId","numberOfVisibleCells","setNumberOfVisibleCells","defaultZone","indexOf","childZones","getChildZones","Link","textIndent","recoveredNumber","deadNumber","Controlls","zoomIn","L","DomUtil","create","zoomOut","title","innerHTML","margin","fontFamily","onmouseover","onmouseout","onclick","console","log","appendChild","mapOptions","renderer","canvas","zoomControl","zoomSnap","zoomDelta","minZoom","MapTest","geoJson","selectedLayer","layerStyle","fillColor","fillOpacity","isHighlighted","highlightLayer","layer","feature","setStyle","showOnlyRelevantZones","eachLayer","mapZoomLevel","getZoom","zoneType","isLayerVisible","addLayer","removeLayer","flyToSelectedZone","latLng","bbox","minLng","minLat","maxLng","getLatLngFromBBox","flyToBounds","layerOptions","attribution","edgeBufferTiles","tileLayer","addTo","setView","controls","Control","extend","onAdd","addControl","on","zoom","getCenter","lat","lng","queryParam","URLSearchParams","location","set","toString","newRelativePathQuery","pathname","history","pushState","ADD_NAVIGATE_TO_FN","remove","off","geoJSON","feat","weight","onEachFeature","openPopupTimer","click","e","resetStyle","target","openPopup","mouseover","setTimeout","mouseout","clearTimeout","dehighlightLayer","bindPopup","SelectedZoneName","OverallStat","Graph","Restrictions","User","process","Axios","get","fetchZones","then","res","ADD_ZONES","CssBaseline","Map","fallback"],"mappings":"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","file":"static/js/User.9ce3ce31.chunk.js","sourcesContent":["import { Zone } from \"../types/zone\";\r\n\r\nexport const getSelectedZoneObjById = (id: string, zones: Zone[] = []) => {\r\n  return zones.find((zone) => zone._id === id);\r\n};\r\n","import { Zone } from \"../types/zone\";\r\nimport { getLanguage } from \"./getLanguage\";\r\n\r\nexport const getProperDisplayName = (zone: Zone) => {\r\n  let displayName: string;\r\n  switch (getLanguage()) {\r\n    case \"uz\":\r\n      displayName = zone?.properties?.displayName;\r\n      break;\r\n    case \"ru\":\r\n      displayName = zone?.properties?.displayName;\r\n      break;\r\n    default:\r\n      displayName = zone?.properties?.displayName;\r\n      break;\r\n  }\r\n  return displayName;\r\n};\r\n","import { ZoneStatus } from \"../types/zone\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { TFunction } from \"i18next\";\r\n\r\nconst getZoneStatusProps = (status: ZoneStatus, t?: TFunction) => {\r\n  let textColorInWhite: string = \"\",\r\n    textColorInBlue: string = \"\",\r\n    text: string | undefined = \"\",\r\n    bgColor: string = \"\";\r\n  switch (status) {\r\n    case ZoneStatus.DANGEROUS:\r\n      textColorInWhite = \"#EA5C73\";\r\n      textColorInBlue = \"#FF4967\";\r\n      text = t && t(\"selectedZoneName.statusBadge.dangerous\");\r\n      bgColor = \"#ff0c0c26\";\r\n      break;\r\n    case ZoneStatus.RISKY:\r\n      textColorInWhite = \"#EF7C38\";\r\n      textColorInBlue = \"#FF9635\";\r\n      text = t && t(\"selectedZoneName.statusBadge.warning\");\r\n      bgColor = \"#ffeb0159\";\r\n      break;\r\n    case ZoneStatus.SAFE:\r\n      textColorInWhite = \"#87D03F\";\r\n      textColorInBlue = \"#87D03F\";\r\n      text = t && t(\"selectedZoneName.statusBadge.safe\");\r\n      bgColor = \"#8ff8293d\";\r\n      break;\r\n    default:\r\n      break;\r\n  }\r\n  return {\r\n    textInWhiteBg: textColorInWhite,\r\n    textInBlueishBg: textColorInBlue,\r\n    text: text,\r\n    bgColor: bgColor,\r\n  };\r\n};\r\n\r\nexport default getZoneStatusProps;\r\n","import { BBox } from \"@turf/turf\";\r\n\r\nexport enum ZoneStatus {\r\n  DANGEROUS = \"DANGEROUS\",\r\n  RISKY = \"RISKY\",\r\n  SAFE = \"SAFE\",\r\n}\r\n\r\nexport enum PlaceType {\r\n  DISTRICT = \"DISTRICT\",\r\n  CITY = \"CITY\",\r\n  REGION = \"REGION\",\r\n  COUNTRY = \"COUNTRY\",\r\n}\r\n\r\nexport type Total = {\r\n  infectedNumber: number;\r\n  recoveredNumber: number;\r\n  deadNumber: number;\r\n};\r\nexport type History = {\r\n  _id: string;\r\n  infectedNumber: number;\r\n  recoveredNumber: number;\r\n  deadNumber: number;\r\n  date: Date;\r\n};\r\n\r\nexport type Zone = {\r\n  _id: string;\r\n  type:\r\n    | \"FeatureCollection\"\r\n    | \"Feature\"\r\n    | \"GeometryCollection\"\r\n    | \"Point\"\r\n    | \"MultiPoint\"\r\n    | \"LineString\"\r\n    | \"MultiLineString\"\r\n    | \"Polygon\"\r\n    | \"MultiPolygon\";\r\n  properties: {\r\n    displayName: string;\r\n    displayNameUz: string;\r\n    displayNameRu: string;\r\n    alias: string[];\r\n    parentZone: string;\r\n    childZones: string[];\r\n    placeType: PlaceType;\r\n    status: ZoneStatus;\r\n    total: Total;\r\n    history: History[];\r\n    restrictionsUz: any;\r\n    restrictionsRu: any;\r\n  };\r\n  bbox: [number, number, number, number];\r\n  geometry: {\r\n    type:\r\n      | \"FeatureCollection\"\r\n      | \"Feature\"\r\n      | \"GeometryCollection\"\r\n      | \"Point\"\r\n      | \"MultiPoint\"\r\n      | \"LineString\"\r\n      | \"MultiLineString\"\r\n      | \"Polygon\"\r\n      | \"MultiPolygon\";\r\n    coordinates: [];\r\n  };\r\n};\r\n","import { Zone } from \"../types/zone\";\r\nimport { getLanguage } from \"./getLanguage\";\r\nimport { getProperDisplayName } from \"./getProperDisplayName\";\r\n\r\nexport const getParents = (\r\n  zone: Zone,\r\n  zones: Zone[],\r\n  parentZoneList: string[] = []\r\n): string => {\r\n  const parentZone = zones.find(\r\n    (z) => z.properties?.displayName === zone.properties?.parentZone\r\n  );\r\n  if (parentZone) {\r\n    parentZoneList.push(getProperDisplayName(parentZone));\r\n    return getParents(parentZone, zones, parentZoneList);\r\n  } else {\r\n    return parentZoneList.join(\", \");\r\n  }\r\n};\r\n","import i18n from \"i18next\";\r\n\r\nexport const getLanguage = () => {\r\n  return (\r\n    \"en\" ||\r\n    i18n.language ||\r\n    (typeof window !== \"undefined\" && window.localStorage.i18nextLng) ||\r\n    \"en\"\r\n  );\r\n};\r\n","module.exports = __webpack_public_path__ + \"static/media/virus-small.970e315a.svg\";","module.exports = __webpack_public_path__ + \"static/media/virus-big.f78fcd20.svg\";","module.exports = __webpack_public_path__ + \"static/media/hand.47246aac.svg\";","import React from \"react\";\r\n\r\nexport const lazyPreload = (\r\n  factory: () => Promise<{ default: React.SFC<any> }>\r\n) => {\r\n  const Component: any = React.lazy(factory);\r\n  Component.preload = factory;\r\n  return Component;\r\n};\r\n","import React, { useState, ReactElement, useEffect, useContext } from \"react\";\nimport {\n  makeStyles,\n  Drawer,\n  Grid,\n  Box,\n  useMediaQuery,\n  Theme,\n  Paper,\n} from \"@material-ui/core\";\nimport SwipeableBottomSheet from \"react-swipeable-bottom-sheet\";\nimport { Scrollbars } from \"react-custom-scrollbars\";\nimport { ADD_CLOSE_BOTTOM_SHEET_FN } from \"state/reducers/appReducer\";\nimport { StateContext } from \"state/StateContext\";\n\nexport interface LayoutProps {\n  map: ReactElement;\n  mainContent: ReactElement;\n  search: ReactElement;\n}\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: \"flex\",\n  },\n  drawer: {\n    flexShrink: 0,\n    width: \"50%\",\n    maxWidth: 600,\n  },\n  drawerPaper: {\n    width: \"50%\",\n    maxWidth: 600,\n    boxShadow: \"0px 4px 40px rgba(0, 30, 89, 0.09)\",\n  },\n  bottomSheetPaper: {\n    borderTopLeftRadius: \"30px\",\n    borderTopRightRadius: \"30px\",\n    backgroundColor: \"white\",\n    fontSize: \"18px\",\n    padding: \"30px 20px\",\n    // minHeight: \"calc(100vh - 160px)\",\n    // maxHeight: 'calc(100vh - 160px)',\n  },\n  notch: {\n    position: \"absolute\",\n    top: 12.5,\n    left: \"50%\",\n    transform: \"translateX(-50%)\",\n    width: 37,\n    height: 5,\n    background: \"#E3E3E3\",\n    borderRadius: 9,\n  },\n}));\n\nconst Layout: React.SFC<LayoutProps> = (props) => {\n  const [isBottomSheetOpen, setIsBottomSheetOpen] = useState(false);\n  const { dispatch } = useContext(StateContext);\n  const classes = useStyles();\n  const mdUp = useMediaQuery((theme: Theme) => theme.breakpoints.up(\"md\"));\n  const { map, mainContent, search } = props;\n\n  const handleSwipeableChange = (isOpen: boolean) =>\n    setIsBottomSheetOpen(isOpen);\n\n  const handleBottomSheetClose = () => setIsBottomSheetOpen(false);\n\n  useEffect(() => {\n    dispatch({\n      type: ADD_CLOSE_BOTTOM_SHEET_FN,\n      payload: handleBottomSheetClose,\n    });\n    return () => {};\n  }, []);\n\n  return (\n    <>\n      {mdUp ? (\n        <Grid container>\n          <Drawer\n            className={`${classes.drawer}`}\n            variant=\"permanent\"\n            classes={{\n              paper: classes.drawerPaper,\n            }}\n            anchor=\"left\"\n          >\n            <Scrollbars style={{ padding: \"32px 40px\" }} autoHide>\n              <Box pt={4} pb={4} pl={5} pr={5}>\n                <Box mb={3}>\n                  {React.cloneElement(search, { isInsidePaper: true })}\n                </Box>\n                {mainContent}\n              </Box>\n            </Scrollbars>\n          </Drawer>\n          <Box height={\"100vh\"} flexGrow={1} zIndex={1}>\n            {map}\n          </Box>\n        </Grid>\n      ) : (\n        <>\n          <Grid container>\n            <Box\n              position=\"absolute\"\n              width={\"100%\"}\n              paddingTop={\"8px\"}\n              paddingLeft={\"8px\"}\n              paddingRight={\"8px\"}\n              zIndex={100}\n            >\n              {React.cloneElement(search, {\n                isInsidePaper: false,\n              })}\n            </Box>\n            <Box height={\"calc(100vh - 190px)\"} flexGrow={1} zIndex={1}>\n              {map}\n            </Box>\n            <Box zIndex={100}>\n              <SwipeableBottomSheet\n                overflowHeight={200}\n                shadowTip={false}\n                topShadow={false}\n                overlay={false}\n                open={isBottomSheetOpen}\n                onChange={handleSwipeableChange}\n              >\n                <Paper elevation={11} className={classes.bottomSheetPaper}>\n                  {/* <Scrollbars style={{ padding: \"30px 20px\", }} autoHide> */}\n                  <Box className={classes.notch}></Box>\n                  <Box>{mainContent}</Box>\n                  {/* </Scrollbars> */}\n                </Paper>\n              </SwipeableBottomSheet>\n            </Box>\n          </Grid>\n        </>\n      )}\n    </>\n  );\n};\n\nexport default Layout;\n","import React from \"react\";\nimport {\n  Paper,\n  InputBase,\n  makeStyles,\n  useTheme,\n  PaperProps,\n  Button,\n  IconButton,\n} from \"@material-ui/core\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport NavigationRoundedIcon from \"@material-ui/icons/NavigationRounded\";\nimport { useTranslation } from \"react-i18next\";\n\nexport interface SearchInputProps {\n  InputProps: {\n    ref: any;\n  };\n  InputLabelProps: any;\n  inputRef: any;\n  bgColor: string;\n  boxShadow: string;\n  elevation: PaperProps[\"elevation\"];\n}\n\nconst useStyles = makeStyles((theme) => ({\n  inputContainer: {\n    display: \"flex\",\n    alignItems: \"center\",\n    height: 48,\n    borderRadius: 24,\n    paddingLeft: 16,\n    paddingRight: 16,\n  },\n  input: {\n    marginLeft: theme.spacing(1),\n    fontWeight: 400,\n  },\n  autoLocate: {\n    boxShadow: \"0px 4px 10px rgba(27, 41, 83, 0.24)\",\n    height: \"30px\",\n    width: \"30px\",\n    backgroundColor: \"white\",\n  },\n  autoLocateIcon: {\n    transform: \"rotate(27deg) translateY(-1px)\",\n    fontSize: \"1rem\",\n  },\n}));\n\nconst SearchInput: React.SFC<SearchInputProps> = (props) => {\n  const {\n    InputProps,\n    InputLabelProps,\n    bgColor,\n    boxShadow,\n    elevation,\n    inputRef,\n    ...otherProps\n  } = props;\n  const theme = useTheme();\n  const classes = useStyles(theme);\n  const { t } = useTranslation();\n\n  return (\n    <Paper\n      ref={InputProps.ref}\n      component=\"form\"\n      className={classes.inputContainer}\n      style={{ backgroundColor: bgColor, boxShadow: boxShadow }}\n      elevation={elevation}\n    >\n      <SearchIcon />\n      <InputBase\n        {...otherProps}\n        className={classes.input}\n        placeholder={t(\"search.searchForCity\")}\n        inputRef={inputRef}\n      />\n    </Paper>\n  );\n};\n\nexport default SearchInput;\n","import * as React from \"react\";\r\nimport { Box, useTheme } from \"@material-ui/core\";\r\nimport { ZoneStatus } from \"../../types/zone\";\r\nimport getZoneStatusProps from \"../../utils/getZoneStatusProps\";\r\n\r\nexport interface ZoneStatusPinProps {\r\n  status: ZoneStatus;\r\n  style?: any\r\n}\r\n\r\nconst ZoneStatusPin: React.SFC<ZoneStatusPinProps> = (props) => {\r\n  const { status, style = {} } = props;\r\n\r\n  const statusColor = getZoneStatusProps(status);\r\n\r\n  const boxStyle = {\r\n    display: 'inline-block',\r\n    width: 8,\r\n    height: 8,\r\n    borderRadius: 4,\r\n    backgroundColor: statusColor?.textInWhiteBg,\r\n  };\r\n  return <Box style={{...boxStyle, ...style}} component=\"span\" />;\r\n};\r\n\r\nexport default React.memo(ZoneStatusPin, () => true);\r\n","import React from \"react\";\r\nimport ZoneStatusPin from \"./ZoneStatusPin\";\r\nimport { Typography, Box, Grid } from \"@material-ui/core\";\r\nimport { Zone } from \"../../types/zone\";\r\nimport { getParents } from \"../../utils/getParents\";\r\nimport { getProperDisplayName } from \"../../utils/getProperDisplayName\";\r\n\r\nexport interface SearchOptionProps extends Zone {}\r\nexport interface SearchOptionComponentProps {\r\n  zone: Zone;\r\n  zones: Zone[];\r\n}\r\n\r\nconst SearchOption: React.SFC<SearchOptionComponentProps> = (props) => {\r\n  const { zone, zones } = props;\r\n\r\n  const parentZonesString = getParents(zone, zones);\r\n  return (\r\n    <Grid container direction='row' wrap=\"nowrap\" alignItems=\"flex-start\" style={{height: '100%'}}>\r\n      <ZoneStatusPin status={zone?.properties?.status} style={{marginTop: 4, marginLeft: 8, width: 9}} />\r\n      <Box component=\"span\" mr={2} />\r\n      <Grid container item direction='column' wrap=\"nowrap\">\r\n        <Typography variant=\"body1\" noWrap style={{lineHeight: '20px'}}>\r\n          {getProperDisplayName(zone)}\r\n        </Typography>\r\n        {parentZonesString && (\r\n          <Typography variant=\"caption\" style={{lineHeight: '20px', color: '#A5A3B2'}}>{parentZonesString}</Typography>\r\n        )}\r\n      </Grid>\r\n    </Grid>\r\n  );\r\n};\r\n\r\nexport default SearchOption;\r\n","import React, { HTMLAttributes } from \"react\";\nimport { Paper, Typography } from \"@material-ui/core\";\nimport { useTranslation } from \"react-i18next\";\n\nconst SearchOptionsPaper: React.SFC<HTMLAttributes<HTMLElement>> = (props) => {\n  const { t } = useTranslation();\n  return (\n    <Paper\n      className={props.className}\n      elevation={0}\n      style={{ boxShadow: \"0px 3px 10px rgba(30, 43, 114, 0.09)\" }}\n    >\n      <Typography variant=\"overline\" color=\"textSecondary\">\n        {t(\"search.searchResults\")}\n      </Typography>\n      {props.children}\n    </Paper>\n  );\n};\n\nexport default SearchOptionsPaper;\n","import React from \"react\";\r\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\r\nimport ListSubheader from \"@material-ui/core/ListSubheader\";\r\nimport { useTheme } from \"@material-ui/core/styles\";\r\nimport { VariableSizeList, ListChildComponentProps } from \"react-window\";\r\n\r\nconst LISTBOX_PADDING = 8; // px\r\n\r\nfunction renderRow(props: ListChildComponentProps) {\r\n  const { data, index, style } = props;\r\n  return React.cloneElement(data[index], {\r\n    style: {\r\n      ...style,\r\n      top: (style.top as number) + LISTBOX_PADDING,\r\n    },\r\n  });\r\n}\r\n\r\nconst OuterElementContext = React.createContext({});\r\n\r\nconst OuterElementType = React.forwardRef<HTMLDivElement>((props, ref) => {\r\n  const outerProps = React.useContext(OuterElementContext);\r\n  return <div ref={ref} {...props} {...outerProps} />;\r\n});\r\n\r\nfunction useResetCache(data: any) {\r\n  const ref = React.useRef<VariableSizeList>(null);\r\n  React.useEffect(() => {\r\n    if (ref.current != null) {\r\n      ref.current.resetAfterIndex(0, true);\r\n    }\r\n  }, [data]);\r\n  return ref;\r\n}\r\n\r\n// Adapter for react-window\r\nconst ListboxComponent = React.forwardRef<HTMLDivElement>(\r\n  function ListboxComponent(props, ref) {\r\n    const { children, ...other } = props;\r\n    const itemData = React.Children.toArray(children);\r\n    const theme = useTheme();\r\n    const itemCount = itemData.length;\r\n    const itemSize = 56;\r\n\r\n    const getChildSize = (child: React.ReactNode) => {\r\n      if (React.isValidElement(child) && child.type === ListSubheader) {\r\n        return 56;\r\n      }\r\n\r\n      return itemSize;\r\n    };\r\n\r\n    const getHeight = () => {\r\n      if (itemCount > 5) {\r\n        return 5 * itemSize;\r\n      }\r\n      return itemData.map(getChildSize).reduce((a, b) => a + b, 0);\r\n    };\r\n\r\n    const gridRef = useResetCache(itemCount);\r\n\r\n    return (\r\n      <div ref={ref}>\r\n        <OuterElementContext.Provider value={other}>\r\n          <VariableSizeList\r\n            itemData={itemData}\r\n            height={getHeight() + 2 * LISTBOX_PADDING}\r\n            width=\"100%\"\r\n            ref={gridRef}\r\n            outerElementType={OuterElementType}\r\n            innerElementType=\"ul\"\r\n            itemSize={(index) => getChildSize(itemData[index])}\r\n            overscanCount={5}\r\n            itemCount={itemCount}\r\n          >\r\n            {renderRow}\r\n          </VariableSizeList>\r\n        </OuterElementContext.Provider>\r\n      </div>\r\n    );\r\n  }\r\n);\r\n\r\nexport default ListboxComponent;","import React, { useEffect, useState } from \"react\";\r\nimport LocationOnIcon from \"@material-ui/icons/LocationOn\";\r\nimport {\r\n  Box,\r\n  Button,\r\n  makeStyles,\r\n  useTheme,\r\n  useMediaQuery,\r\n  Theme,\r\n} from \"@material-ui/core\";\r\nimport { sortBasedOnTotalInfected } from \"utils/sortBasedOnTotalInfected\";\r\nimport Slider from \"react-slick\";\r\nimport \"slick-carousel/slick/slick-theme.css\";\r\nimport \"slick-carousel/slick/slick.css\";\r\nimport { PlaceType, Zone } from \"types/zone\";\r\nimport { getProperDisplayName } from \"utils/getProperDisplayName\";\r\nimport SuggestedZonesSkeleton from \"../Skeletons/SuggestedZones\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  suggestedZoneContainer: {\r\n    // marginTop: \"8px\",\r\n  },\r\n  suggestedZones: {\r\n    fontSize: \"14px\",\r\n    lineHeight: \"17px\",\r\n    padding: \"8px 16px 8px 16px\",\r\n    borderRadius: \"43px\",\r\n    textTransform: \"unset\",\r\n    whiteSpace: \"nowrap\",\r\n    fontWeight: 400,\r\n  },\r\n  suggestedZonesWeb: {\r\n    color: \"rgba(59, 56, 88, 0.72)\",\r\n    backgroundColor: \"#ebebebc7\",\r\n    boxShadow: \"none\",\r\n  },\r\n  suggestedZonesMobile: {\r\n    color: \"rgba(36, 43, 67, 0.77)\",\r\n    background: \"#FFFFFF\",\r\n    boxShadow: \"4px 6px 10px rgba(30, 43, 114, 0.09)\",\r\n  },\r\n}));\r\n\r\nexport interface SuggestedZonesProps {\r\n  zones: Zone[] | [];\r\n  selectZone: (zone: Zone) => void;\r\n}\r\n\r\nconst SuggestedZones: React.SFC<SuggestedZonesProps> = (props) => {\r\n  const { zones, selectZone } = props;\r\n  const [lastSelectedZone, setLastSelectedZone] = useState<Zone>();\r\n  const theme = useTheme();\r\n  const classes = useStyles(theme);\r\n  const mdUp = useMediaQuery((theme: Theme) => theme.breakpoints.up(\"md\"));\r\n\r\n  useEffect(() => {\r\n    const lastSelectedZoneLS = localStorage.getItem(\"last-selected-zone\") || \"\";\r\n    try {\r\n      setLastSelectedZone(JSON.parse(lastSelectedZoneLS));\r\n    } catch (error) {}\r\n  }, []);\r\n\r\n  const settings = {\r\n    infinite: false,\r\n    variableWidth: true,\r\n    dots: false,\r\n    speed: 300,\r\n    arrows: false,\r\n  };\r\n  const handleSuggestionsClick = (zone: Zone) => {\r\n    selectZone(zone);\r\n  };\r\n  return zones?.length > 0 ? (\r\n    <Slider {...settings}>\r\n      {lastSelectedZone ? (\r\n        <Box key={`suggestion-${lastSelectedZone._id}`} mr={0.5}>\r\n          <Button\r\n            variant=\"contained\"\r\n            className={`${classes.suggestedZones} ${\r\n              mdUp ? classes.suggestedZonesWeb : classes.suggestedZonesMobile\r\n            }`}\r\n            startIcon={<LocationOnIcon fontSize=\"small\" color={\"primary\"} />}\r\n            onClick={() => handleSuggestionsClick(lastSelectedZone)}\r\n          >\r\n            {getProperDisplayName(lastSelectedZone)}\r\n          </Button>\r\n        </Box>\r\n      ) : (\r\n        <></>\r\n      )}\r\n      {sortBasedOnTotalInfected(zones, [PlaceType.CITY, PlaceType.REGION]).map(\r\n        (zone, index) => {\r\n          return (\r\n            index <= 1 && (\r\n              <Box\r\n                key={`suggestion-${zone._id}`}\r\n                ml={index !== 0 ? 0.5 : 0}\r\n                mr={index !== zones.length - 1 ? 0.5 : 0}\r\n              >\r\n                <Button\r\n                  variant=\"contained\"\r\n                  className={`${classes.suggestedZones} ${\r\n                    mdUp\r\n                      ? classes.suggestedZonesWeb\r\n                      : classes.suggestedZonesMobile\r\n                  }`}\r\n                  startIcon={\r\n                    <LocationOnIcon fontSize=\"small\" color={\"primary\"} />\r\n                  }\r\n                  onClick={() => handleSuggestionsClick(zone)}\r\n                >\r\n                  {getProperDisplayName(zone)}\r\n                </Button>\r\n              </Box>\r\n            )\r\n          );\r\n        }\r\n      )}\r\n    </Slider>\r\n  ) : (\r\n    <SuggestedZonesSkeleton mdUp={mdUp} />\r\n  );\r\n};\r\n\r\nexport default SuggestedZones;\r\n","import { Zone, PlaceType } from \"../types/zone\";\r\n\r\nexport const sortBasedOnTotalInfected = (\r\n  zones: Zone[],\r\n  acceptedZoneTypes: PlaceType[]\r\n): Zone[] => {\r\n  return zones\r\n    .sort(\r\n      (a, b) =>\r\n        b?.properties?.total?.infectedNumber -\r\n        a?.properties?.total?.infectedNumber\r\n    )\r\n    .filter((zone) => acceptedZoneTypes.includes(zone?.properties?.placeType));\r\n};\r\n","import React, {\r\n  useContext,\r\n  useState,\r\n  PropsWithChildren,\r\n  ChangeEvent,\r\n  useRef,\r\n} from \"react\";\r\nimport { StateContext } from \"../../state/StateContext\";\r\nimport { makeStyles, useTheme, useMediaQuery, Theme } from \"@material-ui/core\";\r\nimport \"./styles.css\";\r\nimport Autocomplete, {\r\n  AutocompleteChangeReason,\r\n} from \"@material-ui/lab/Autocomplete\";\r\nimport { ADD_SELECTED_ZONE_ID } from \"../../state/reducers/appReducer\";\r\nimport SearchInput from \"./SearchInput\";\r\nimport SearchOption, { SearchOptionProps } from \"./SearchOption\";\r\nimport SearchOptionsPaper from \"./SearchOptionsPaper\";\r\nimport ListboxComponent from \"./ListboxComponent\";\r\nimport { Zone } from \"../../types/zone\";\r\nimport { FilterOptionsState } from \"@material-ui/lab\";\r\nimport { getProperDisplayName } from \"../../utils/getProperDisplayName\";\r\nimport SuggestedZones from \"components/Search/SuggestedZones\";\r\n\r\nexport interface SearchProps {\r\n  isInsidePaper?: boolean;\r\n  closeBottomSheet?: () => void;\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  optionContainerPaper: {\r\n    borderRadius: 24,\r\n    marginTop: 8,\r\n    padding: 24,\r\n  },\r\n  option: {\r\n    padding: \"8px 0\",\r\n    height: 50,\r\n    '&[data-focus=\"true\"]': {\r\n      backgroundColor: \"rgba(0, 0, 0, .02)\",\r\n    },\r\n    // \":active\": {\r\n    //   backgroundColor: \"rgba(0, 0, 0, .02)\",\r\n    // },\r\n  },\r\n  suggestedZoneContainer: {\r\n    // marginTop: \"8px\",\r\n  },\r\n  suggestedZones: {\r\n    backgroundColor: \"rgba(72, 99, 244, 0.11)\",\r\n    color: \"rgba(59, 56, 88, 0.72)\",\r\n    fontSize: \"14px\",\r\n    lineHeight: \"17px\",\r\n    padding: \"8px 16px 8px 16px\",\r\n    boxShadow: \"none\",\r\n    borderRadius: \"20px\",\r\n    textTransform: \"unset\",\r\n    whiteSpace: \"nowrap\",\r\n  },\r\n}));\r\n\r\nconst Search: React.SFC<SearchProps> = (props) => {\r\n  const mdUp = useMediaQuery((theme: Theme) => theme.breakpoints.up(\"md\"));\r\n  const { isInsidePaper = () => {} } = props;\r\n  const {\r\n    zones = [],\r\n    dispatch,\r\n    navigateTo,\r\n    closeBottomSheet,\r\n  } = useContext(StateContext);\r\n  const [selectedZone, setSelectedZone] = useState<Zone | null>(null);\r\n  const theme = useTheme();\r\n  const classes = useStyles(theme);\r\n  const inputRef = useRef<any>();\r\n\r\n  const selectZone = (zone: Zone) => {\r\n    dispatch({\r\n      type: ADD_SELECTED_ZONE_ID,\r\n      payload: zone._id,\r\n    });\r\n    closeBottomSheet();\r\n    navigateTo(zone);\r\n    setSelectedZone(zone);\r\n    inputRef.current?.blur();\r\n  };\r\n\r\n  const handleChange = (\r\n    event: ChangeEvent<{}>,\r\n    value: PropsWithChildren<SearchOptionProps> | null,\r\n    reason: AutocompleteChangeReason\r\n  ) => {\r\n    if (reason === \"select-option\" && value?._id) {\r\n      selectZone(value);\r\n      try {\r\n        localStorage.setItem(\"last-selected-zone\", JSON.stringify(value));\r\n      } catch (error) {}\r\n    }\r\n  };\r\n\r\n  const optionsToShow = (\r\n    option: PropsWithChildren<SearchOptionProps>[],\r\n    state: FilterOptionsState<PropsWithChildren<SearchOptionProps>>\r\n  ) => {\r\n    return option.filter((i) => {\r\n      return (\r\n        i?.properties?.alias?.some((a) =>\r\n          a?.toLowerCase().includes(state?.inputValue?.toLowerCase())\r\n        ) ||\r\n        i?.properties?.displayNameUz\r\n          ?.toLowerCase()\r\n          .includes(state?.inputValue?.toLowerCase()) ||\r\n        i?.properties?.displayNameRu\r\n          ?.toLowerCase()\r\n          .includes(state?.inputValue?.toLowerCase())\r\n      );\r\n    });\r\n  };\r\n\r\n  const bgColor = isInsidePaper\r\n    ? theme.palette.type === \"light\"\r\n      ? \"#ebebebc7\"\r\n      : \"#bdc0cb\"\r\n    : theme.palette.type === \"light\"\r\n    ? \"#FFF\"\r\n    : \"#bdc0cb\";\r\n  const elevation = isInsidePaper ? 0 : 2;\r\n\r\n  return (\r\n    <>\r\n      <Autocomplete\r\n        // debug\r\n        id=\"search-bank-name\"\r\n        classes={{\r\n          option: classes.option,\r\n          paper: classes.optionContainerPaper,\r\n        }}\r\n        options={zones}\r\n        getOptionSelected={(option, value) => value?._id === option?._id}\r\n        getOptionLabel={(option: PropsWithChildren<SearchOptionProps>) =>\r\n          getProperDisplayName(option)\r\n        }\r\n        value={selectedZone}\r\n        onChange={handleChange}\r\n        onFocus={() => closeBottomSheet()}\r\n        filterOptions={optionsToShow}\r\n        // popupIcon={null}\r\n        renderInput={(params) => (\r\n          <SearchInput\r\n            {...params}\r\n            bgColor={bgColor}\r\n            boxShadow={mdUp ? \"unset\" : \"4px 6px 10px rgba(30, 43, 114, 0.09)\"}\r\n            elevation={elevation}\r\n            inputRef={inputRef}\r\n          />\r\n        )}\r\n        renderOption={(option) => <SearchOption zone={option} zones={zones} />}\r\n        PaperComponent={SearchOptionsPaper}\r\n        ListboxComponent={\r\n          ListboxComponent as React.ComponentType<\r\n            React.HTMLAttributes<HTMLElement>\r\n          >\r\n        }\r\n        autoHighlight\r\n        autoComplete\r\n        clearOnEscape\r\n        clearOnBlur\r\n      />\r\n      <SuggestedZones zones={zones} selectZone={selectZone} />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Search;\r\n","import React from \"react\";\r\nimport {\r\n  Paper,\r\n  Grid,\r\n  Typography,\r\n  makeStyles,\r\n  Theme,\r\n  useTheme,\r\n  createStyles,\r\n  Box,\r\n  useMediaQuery,\r\n} from \"@material-ui/core\";\r\nimport VirusSmall from \"../../assets/images/virus-small.svg\";\r\nimport ChevronRightRoundedIcon from \"@material-ui/icons/ChevronRightRounded\";\r\nimport { useTranslation } from \"react-i18next\";\r\n\r\nexport interface CallBannerProps {}\r\n\r\nexport const useStyles = makeStyles((theme) =>\r\n  createStyles({\r\n    paper: {\r\n      backgroundColor: theme.palette.primary.main,\r\n      color: \"white\",\r\n      padding: 16,\r\n      borderRadius: 9,\r\n      position: \"relative\",\r\n      overflow: \"hidden\",\r\n    },\r\n    flex: {\r\n      display: \"flex\",\r\n    },\r\n    textMain: {},\r\n    textSecondary: {\r\n      opacity: \"50%\",\r\n      fontWeight: 400,\r\n    },\r\n    textSecondaryMobile: {\r\n      lineHeight: \"1.2\",\r\n      marginTop: \"4px\",\r\n      fontSize: \"14px\",\r\n    },\r\n  })\r\n);\r\nconst imgStyleMobile: any = {\r\n  position: \"absolute\",\r\n  bottom: \"50%\",\r\n  left: \"0\",\r\n  transform: \"translate(-54%, 50%)\",\r\n};\r\n\r\nconst CallBanner: React.SFC<CallBannerProps> = () => {\r\n  const theme = useTheme();\r\n  const classes = useStyles(theme);\r\n  const { t } = useTranslation();\r\n  const smUp = useMediaQuery((theme: Theme) => theme.breakpoints.up(\"sm\"));\r\n\r\n  const handleClick = () => {\r\n    window.open(\"tel:+1303499-7111\", \"_blank\");\r\n  };\r\n  return (\r\n    <Box mt={4} mb={4}>\r\n      <Paper\r\n        className={classes.paper}\r\n        style={{ cursor: \"pointer\" }}\r\n        elevation={0}\r\n        onClick={handleClick}\r\n      >\r\n        <Grid\r\n          container\r\n          justify=\"space-between\"\r\n          alignItems=\"center\"\r\n          wrap=\"nowrap\"\r\n        >\r\n          <Grid\r\n            className={classes.flex}\r\n            container\r\n            item\r\n            alignItems=\"center\"\r\n            wrap=\"nowrap\"\r\n          >\r\n            <img src={VirusSmall} style={!smUp ? imgStyleMobile : undefined} />\r\n            <Box mr={2} />\r\n            <Grid item container direction=\"column\" wrap=\"nowrap\">\r\n              <Typography>{t(\"callBanner.title\")}</Typography>\r\n              <Typography\r\n                className={`${classes.textSecondary} ${\r\n                  !smUp && classes.textSecondaryMobile\r\n                }`}\r\n              >\r\n                {t(\"callBanner.subtitle\")}\r\n              </Typography>\r\n            </Grid>\r\n          </Grid>\r\n          <Grid item>\r\n            <ChevronRightRoundedIcon />\r\n          </Grid>\r\n        </Grid>\r\n      </Paper>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default CallBanner;\r\n","import React from \"react\";\r\nimport {\r\n  Paper,\r\n  useTheme,\r\n  Grid,\r\n  Typography,\r\n  makeStyles,\r\n  Box,\r\n} from \"@material-ui/core\";\r\nimport { useStyles as useCallBannerStyles } from \"./CallBanner\";\r\nimport VirusBig from \"../../assets/images/virus-big.svg\";\r\nimport Hand from \"../../assets/images/hand.svg\";\r\nimport { useTranslation } from \"react-i18next\";\r\n\r\nexport interface WelcomeBannerProps {}\r\n\r\nconst useStyles = makeStyles({\r\n  papar: {\r\n    position: \"relative\",\r\n    padding: \"24px\",\r\n    overflow: \"hidden\",\r\n  },\r\n  caption: {\r\n    opacity: \"85%\",\r\n  },\r\n});\r\nconst backgroundVirusImg: any = {\r\n  position: \"absolute\",\r\n  top: \"-40px\",\r\n  right: \"0px\",\r\n};\r\n\r\nconst WelcomeBanner: React.SFC<WelcomeBannerProps> = () => {\r\n  const theme = useTheme();\r\n  const callBannerClasses = useCallBannerStyles(theme);\r\n  const classes = useStyles();\r\n  const { t } = useTranslation();\r\n  return (\r\n    <Paper\r\n      className={`${callBannerClasses.paper} ${classes.papar}`}\r\n      elevation={0}\r\n    >\r\n      <img style={backgroundVirusImg} src={VirusBig} alt=\"virus image\" />\r\n      <Grid item xs={12} sm={10} md={8}>\r\n        <Box height=\"49px\" mb={1}>\r\n          <img src={Hand} alt=\"Hi\" />\r\n        </Box>\r\n        <Typography variant=\"subtitle1\">{t(\"welcomeBanner.title\")}</Typography>\r\n        <Typography variant=\"caption\" className={classes.caption}>\r\n          {t(\"welcomeBanner.subtitle\")}\r\n        </Typography>\r\n      </Grid>\r\n    </Paper>\r\n  );\r\n};\r\n\r\nexport default WelcomeBanner;\r\n","import React, { useState, useContext } from \"react\";\r\nimport {\r\n  TableContainer,\r\n  makeStyles,\r\n  Table,\r\n  TableHead,\r\n  TableRow,\r\n  TableCell as MuiTableCell,\r\n  TableBody,\r\n  Box,\r\n  withStyles,\r\n  Button,\r\n  Grid,\r\n  Typography,\r\n  Link,\r\n  Theme,\r\n  useMediaQuery,\r\n} from \"@material-ui/core\";\r\nimport KeyboardArrowDownRoundedIcon from \"@material-ui/icons/KeyboardArrowDownRounded\";\r\nimport ZoneStatusPin from \"../Search/ZoneStatusPin\";\r\nimport { ZoneStatus } from \"../../types/zone\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { getSelectedZoneObjById } from \"../../utils/getSelectedZoneObj\";\r\nimport { StateContext } from \"../../state/StateContext\";\r\nimport { getProperDisplayName } from \"../../utils/getProperDisplayName\";\r\nimport { getChildZones } from \"../../utils/getChildZones\";\r\nimport { ADD_SELECTED_ZONE_ID } from \"../../state/reducers/appReducer\";\r\nimport ChildZonesSkeleton from \"../Skeletons/ChildZones\";\r\n\r\nconst useStyles = makeStyles({\r\n  table: {\r\n    // minWidth: 650,\r\n  },\r\n  showMoreBtn: {\r\n    marginLeft: \"auto\",\r\n    marginRight: \"auto\",\r\n    borderRadius: 16,\r\n    padding: \"4px 16px\",\r\n    boxShadow: \"unset !important\",\r\n  },\r\n  tableCell: {\r\n    textAlign: \"center\",\r\n    whiteSpace: \"nowrap\",\r\n    overflow: \"hidden\",\r\n    textOverflow: \"ellipsis\",\r\n  },\r\n  tableCellText: {\r\n    lineHeight: 1,\r\n  },\r\n  skeleton: {\r\n    display: \"inline-block\",\r\n    backgroundColor: \"rgb(245, 247, 253)\",\r\n  },\r\n});\r\n\r\nconst TableCell = withStyles({\r\n  root: {\r\n    borderBottom: \"none\",\r\n    lineHeight: 1.2,\r\n    paddingLeft: (props: { leftmost?: string; rightmost?: string }) =>\r\n      props.leftmost ? \"unset !important\" : \"8px\",\r\n    paddingRight: (props: { leftmost?: string; rightmost?: string }) =>\r\n      props.rightmost ? \"unset !important\" : \"8px\",\r\n  },\r\n})(MuiTableCell);\r\n\r\nexport interface ChildZonesProps {}\r\n\r\nconst ChildZones: React.SFC<ChildZonesProps> = () => {\r\n  const { zones, selectedZoneId, dispatch } = useContext(StateContext);\r\n  const selectedZone = getSelectedZoneObjById(selectedZoneId, zones);\r\n  const classes = useStyles();\r\n  const [numberOfVisibleCells, setNumberOfVisibleCells] = useState(4);\r\n  const { t } = useTranslation();\r\n  const mdUp = useMediaQuery((theme: Theme) => theme.breakpoints.up(\"md\"));\r\n\r\n  const defaultZone = zones.find(\r\n    (zone) => zone?.properties?.alias?.indexOf(\"Uzbekistan\") > -1\r\n  );\r\n  // console.log(\"selectedZone\", selectedZone);\r\n  // console.log(\"defaultZone\", defaultZone);\r\n\r\n  const childZones = getChildZones(\r\n    selectedZone\r\n      ? selectedZone?.properties?.childZones\r\n      : defaultZone?.properties?.childZones,\r\n    zones\r\n  );\r\n  // console.log(\"childZones\", childZones);\r\n  return childZones.length ? (\r\n    <Box mt={4} mb={4}>\r\n      <Box mb={1}>\r\n        <Typography variant=\"subtitle1\">\r\n          {t(\"childZonesTable.title\")}\r\n        </Typography>\r\n      </Box>\r\n      <Grid container spacing={2}>\r\n        <Grid container item>\r\n          <Grid item xs={6}>\r\n            <Typography variant=\"caption\">\r\n              {t(\"childZonesTable.zoneName\")}\r\n            </Typography>\r\n          </Grid>\r\n          <Grid item xs={2} className={classes.tableCell}>\r\n            <Typography variant=\"caption\" className={classes.tableCellText}>\r\n              {t(\"dataType.infected\")}\r\n            </Typography>\r\n          </Grid>\r\n          <Grid item xs={2} className={classes.tableCell}>\r\n            <Typography variant=\"caption\" className={classes.tableCellText}>\r\n              {t(\"dataType.recovered\")}\r\n            </Typography>\r\n          </Grid>\r\n          <Grid item xs={2} className={classes.tableCell}>\r\n            <Typography variant=\"caption\" className={classes.tableCellText}>\r\n              {t(\"dataType.dead\")}\r\n            </Typography>\r\n          </Grid>\r\n        </Grid>\r\n        {childZones.map(\r\n          (zone, index: number) =>\r\n            index + 1 <= numberOfVisibleCells && (\r\n              <Grid container item key={zone._id}>\r\n                <Grid\r\n                  item\r\n                  xs={6}\r\n                  style={{\r\n                    overflow: \"hidden\",\r\n                    whiteSpace: \"nowrap\",\r\n                    textOverflow: \"ellipsis\",\r\n                  }}\r\n                >\r\n                  <Box>\r\n                    {mdUp && <ZoneStatusPin status={zone.properties?.status} />}\r\n                    {mdUp && <Box component=\"span\" mr={1} />}\r\n                    <Link\r\n                      variant=\"body1\"\r\n                      component=\"button\"\r\n                      style={{\r\n                        overflow: \"hidden\",\r\n                        textOverflow: \"ellipsis\",\r\n                        whiteSpace: \"nowrap\",\r\n                        textIndent: mdUp ? 0 : 1,\r\n                        width: \"calc(100% - 10px)\",\r\n                        textAlign: \"left\",\r\n                      }}\r\n                      onClick={() => {\r\n                        dispatch({\r\n                          type: ADD_SELECTED_ZONE_ID,\r\n                          payload: zone._id,\r\n                        });\r\n                      }}\r\n                    >\r\n                      {getProperDisplayName(zone)}\r\n                    </Link>\r\n                  </Box>\r\n                </Grid>\r\n                <Grid item xs={2} className={classes.tableCell}>\r\n                  {zone?.properties?.total?.infectedNumber}\r\n                </Grid>\r\n                <Grid item xs={2} className={classes.tableCell}>\r\n                  {zone?.properties?.total?.recoveredNumber}\r\n                </Grid>\r\n                <Grid item xs={2} className={classes.tableCell}>\r\n                  {zone?.properties?.total?.deadNumber}\r\n                </Grid>\r\n              </Grid>\r\n            )\r\n        )}\r\n      </Grid>\r\n      {childZones.length > numberOfVisibleCells && (\r\n        <Box mt={2}>\r\n          <Grid container justify=\"center\">\r\n            <Button\r\n              className={classes.showMoreBtn}\r\n              variant=\"contained\"\r\n              color=\"primary\"\r\n              startIcon={<KeyboardArrowDownRoundedIcon />}\r\n              onClick={() => {\r\n                setNumberOfVisibleCells(childZones.length);\r\n              }}\r\n            >\r\n              {t(\"childZonesTable.seeMore\")}\r\n            </Button>\r\n          </Grid>\r\n        </Box>\r\n      )}\r\n    </Box>\r\n  ) : !selectedZone ? (\r\n    <ChildZonesSkeleton mdUp={mdUp} />\r\n  ) : (\r\n    <></>\r\n  );\r\n};\r\n\r\nexport default ChildZones;\r\n","import { Zone } from \"../types/zone\";\r\n\r\nexport const getChildZones = (\r\n  children: string[] | undefined,\r\n  zones: Zone[]\r\n) => {\r\n  return zones.filter((zone) => children?.includes(zone.properties?.displayName));\r\n};\r\n","import L from \"leaflet\";\r\n\r\nexport const Controlls = (map: any) => {\r\n  const zoomIn: any = L.DomUtil.create(\"div\");\r\n  const zoomOut: any = L.DomUtil.create(\"div\");\r\n  zoomIn.type = zoomOut.type = \"button\";\r\n  zoomIn.title = \"Zoom in\";\r\n  zoomOut.title = \"Zoom out\";\r\n  zoomIn.innerHTML = \"+\";\r\n  zoomOut.innerHTML = \"-\";\r\n\r\n  zoomIn.style.cursor = zoomOut.style.cursor = \"pointer\";\r\n  zoomIn.style.textAlign = zoomOut.style.textAlign = \"center\";\r\n  zoomIn.style.width = zoomOut.style.width = \"52px\";\r\n  zoomIn.style.height = zoomOut.style.height = \"52px\";\r\n  zoomIn.style.borderRadius = zoomOut.style.borderRadius = \"32px\";\r\n  zoomIn.style.background = zoomOut.style.background = \"#ffffff\";\r\n  zoomIn.style.boxShadow = zoomOut.style.boxShadow =\r\n    \"0px 2px 1px -1px rgba(0,0,0,0.2),0px 1px 1px 0px rgba(0,0,0,0.14),0px 1px 3px 0px rgba(0,0,0,0.12)\";\r\n  zoomIn.style.lineHeight = zoomOut.style.lineHeight = \"52px\";\r\n  zoomIn.style.margin = zoomOut.style.margin = \"8px 0\";\r\n  zoomIn.style.fontWeight = zoomOut.style.fontWeight = \"500\";\r\n  zoomIn.style.fontSize = zoomOut.style.fontSize = \"28px\";\r\n  zoomIn.style.fontFamily = zoomOut.style.fontFamily = \"Rubik\";\r\n  zoomIn.style.color = zoomOut.style.color = \"#242b43\";\r\n\r\n  zoomIn.onmouseover = function () {\r\n    zoomIn.style.boxShadow = \"0px 3px 3px -2px rgba(0,0,0,0.2),0px 3px 4px 0px rgba(0,0,0,0.14),0px 1px 8px 0px rgba(0,0,0,0.12)\";\r\n  };\r\n  zoomOut.onmouseover = function () {\r\n    zoomOut.style.boxShadow = \"0px 3px 3px -2px rgba(0,0,0,0.2),0px 3px 4px 0px rgba(0,0,0,0.14),0px 1px 8px 0px rgba(0,0,0,0.12)\";\r\n  };\r\n  zoomIn.onmouseout = function () {\r\n    zoomIn.style.boxShadow = \"0px 2px 1px -1px rgba(0,0,0,0.2),0px 1px 1px 0px rgba(0,0,0,0.14),0px 1px 3px 0px rgba(0,0,0,0.12)\";\r\n  };\r\n  zoomOut.onmouseout = function () {\r\n    zoomOut.style.boxShadow = \"0px 2px 1px -1px rgba(0,0,0,0.2),0px 1px 1px 0px rgba(0,0,0,0.14),0px 1px 3px 0px rgba(0,0,0,0.12)\";\r\n  };\r\n\r\n  zoomIn.onclick = function () {\r\n    map.zoomIn(1);\r\n    console.log(\"+ buttonClicked\");\r\n  };\r\n  zoomOut.onclick = function () {\r\n    map.zoomOut(1);\r\n    console.log(\"- buttonClicked\");\r\n  };\r\n\r\n  const container = L.DomUtil.create(\"div\");\r\n  container.appendChild(zoomIn);\r\n  container.appendChild(zoomOut);\r\n\r\n  return container;\r\n};\r\n","import React, { FunctionComponent, useContext, useEffect, useRef } from \"react\";\nimport L, {\n  Map,\n  MapOptions,\n  GeoJSON,\n  Layer,\n  LeafletEvent,\n  LeafletMouseEvent,\n} from \"leaflet\";\nimport \"leaflet/dist/leaflet.css\";\nimport { Controlls } from \"./Controlls\";\nimport { StateContext } from \"state/StateContext\";\nimport { Zone, ZoneStatus } from \"types/zone\";\nimport { getLatLngFromBBox } from \"utils/getLatLngFromBBox\";\nimport {\n  ADD_NAVIGATE_TO_FN,\n  ADD_SELECTED_ZONE_ID,\n} from \"state/reducers/appReducer\";\nimport getZoneStatusProps from \"utils/getZoneStatusProps\";\nimport { getProperDisplayName } from \"utils/getProperDisplayName\";\nimport { useTranslation } from \"react-i18next\";\nimport { getSelectedZoneObjById } from \"utils/getSelectedZoneObj\";\nimport { Theme, useMediaQuery } from \"@material-ui/core\";\n\nexport interface MapTestProps {\n  closeBottomSheet?: () => void;\n}\n\nconst latInt = 40.92930626579717;\nconst lngInt = 64.61999498705462;\nconst zoomInt = 5;\n\nconst mapOptions: MapOptions = {\n  renderer: L.canvas({ padding: 1 }),\n  zoomControl: false,\n  zoomSnap: 1, // more granular scroll\n  zoomDelta: 1, // zoom change when we use controls\n  minZoom: 4,\n};\n\nconst MapTest: FunctionComponent<MapTestProps> = ({ closeBottomSheet }) => {\n  const { zones = [], selectedZoneId, dispatch } = useContext(StateContext);\n  const selectedZone = getSelectedZoneObjById(selectedZoneId, zones);\n  const map = useRef<any>();\n  const geoJson = useRef<GeoJSON>();\n  const selectedLayer = useRef<any>();\n  const mdUp = useMediaQuery((theme: Theme) => theme.breakpoints.up(\"md\"));\n  const { t } = useTranslation();\n  // console.log(\"selectedZone\", selectedZone);\n  const layerStyle = (status: ZoneStatus, isHighlighted: boolean = false) => {\n    let fillColor;\n    let fillOpacity;\n\n    switch (status) {\n      case ZoneStatus.DANGEROUS:\n        fillColor = isHighlighted ? \"#FA0303\" : \"#FB3535\";\n        fillOpacity = isHighlighted ? 0.3 : 0.2;\n        break;\n      case ZoneStatus.RISKY:\n        fillColor = isHighlighted ? \"#FAFF00\" : \"#FAFF00\";\n        fillOpacity = isHighlighted ? 0.4 : 0.2;\n        break;\n      case ZoneStatus.SAFE:\n        fillColor = isHighlighted ? \"#23FF00\" : \"#23FD00\";\n        fillOpacity = isHighlighted ? 0.5 : 0.2;\n        break;\n      default:\n        fillColor = \"#23FD00\";\n        fillOpacity = 0.2;\n        break;\n    }\n    return { fillColor, fillOpacity };\n  };\n  const isLayerVisible = (zone: Zone, map: any) => {\n    const mapZoomLevel = map.getZoom();\n    let zoneType: \"COUNTRY\" | \"REGION\" | \"DISTRICT\" = \"DISTRICT\";\n    if (!zone.properties.parentZone && zone.properties.childZones.length) {\n      zoneType = \"COUNTRY\";\n    } else if (\n      zone.properties.parentZone &&\n      zone.properties.childZones.length\n    ) {\n      zoneType = \"REGION\";\n    } else if (\n      zone.properties.parentZone &&\n      !zone.properties.childZones.length\n    ) {\n      zoneType = \"DISTRICT\";\n    }\n\n    if (zoneType === \"COUNTRY\" && mapZoomLevel <= 5) {\n      return true;\n    } else if (zoneType === \"REGION\" && mapZoomLevel > 5 && mapZoomLevel <= 8) {\n      return true;\n    } else if (zoneType === \"DISTRICT\" && mapZoomLevel > 8) {\n      return true;\n    } else {\n      return false;\n    }\n  };\n  const highlightLayer = (layer: any) => {\n    const status = layer.feature?.properties?.status;\n    const { fillColor, fillOpacity } = layerStyle(status, true);\n    layer.setStyle({\n      fillColor: fillColor,\n      fillOpacity: fillOpacity,\n    });\n  };\n  const dehighlightLayer = (layer: any) => {\n    const status = layer.feature?.properties?.status;\n    const { fillColor, fillOpacity } = layerStyle(status, false);\n    layer.setStyle({\n      fillColor: fillColor,\n      fillOpacity: fillOpacity,\n    });\n  };\n  const showOnlyRelevantZones = () => {\n    geoJson.current?.eachLayer((layer: any) => {\n      const isVisible = isLayerVisible(layer.feature, map.current);\n      if (!isVisible) {\n        map.current.removeLayer(layer);\n      } else {\n        map.current.addLayer(layer);\n      }\n      // console.log(\"geoJson isVisible\", isVisible);\n    });\n  };\n\n  const flyToSelectedZone = (selectedZone: Zone) => {\n    console.log(\"flyToSelectedZone selectedZone\", selectedZone);\n    const latLng = getLatLngFromBBox(selectedZone?.bbox);\n    map.current?.flyToBounds(latLng);\n  };\n\n  useEffect(() => {\n    map.current = L.map(\"map\", mapOptions);\n    const layerOptions: any = {\n      attribution: mdUp\n        ? '&copy; <a href=\"https://stadiamaps.com/\">Stadia Maps</a>, &copy; <a href=\"https://openmaptiles.org/\">OpenMapTiles</a> &copy; <a href=\"http://openstreetmap.org\">OpenStreetMap</a> contributors'\n        : \"\",\n      edgeBufferTiles: 2, // loads tiles outside of view to better x, y scrolling\n    };\n    L.tileLayer(\n      \"http://{s}.tile.osm.org/{z}/{x}/{y}.png\",\n      // \"https://tiles.stadiamaps.com/tiles/osm_bright/{z}/{x}/{y}{r}.png\",\n      layerOptions\n    ).addTo(map.current);\n\n    map.current.setView([latInt, lngInt], zoomInt);\n\n    const controls = L.Control.extend({\n      options: {\n        position: \"bottomright\",\n      },\n      onAdd: Controlls,\n    });\n\n    mdUp && map.current.addControl(new controls());\n\n    map.current.on(\"zoomend\", () => {\n      const zoom = map.current?.getZoom();\n      const latLng = map.current?.getCenter();\n\n      if (latLng?.lat && latLng?.lng && zoom) {\n        if (\"URLSearchParams\" in window) {\n          const queryParam = new URLSearchParams(window.location.search);\n          queryParam.set(\"lat\", JSON.stringify(latLng.lat));\n          queryParam.set(\"lng\", JSON.stringify(latLng.lng));\n          queryParam.set(\"zoom\", JSON.stringify(zoom));\n          queryParam.toString();\n          const newRelativePathQuery =\n            window.location.pathname + \"?\" + queryParam.toString();\n          window.history.pushState(null, \"\", newRelativePathQuery);\n        }\n      }\n      showOnlyRelevantZones();\n    });\n\n    dispatch({\n      type: ADD_NAVIGATE_TO_FN,\n      payload: flyToSelectedZone,\n    });\n\n    return () => {\n      if (map.current && map.current.remove) {\n        map.current.off();\n        map.current.remove();\n      }\n    };\n  }, [mdUp]);\n\n  useEffect(() => {\n    geoJson.current = L.geoJSON(zones as any, {\n      style: (feat) => {\n        const status = feat?.properties?.status;\n        const { fillColor, fillOpacity } = layerStyle(status);\n\n        return {\n          fillColor: fillColor,\n          fillOpacity: fillOpacity,\n          color: \"#A4A2AE\",\n          weight: 2,\n        };\n      },\n      onEachFeature: (zone, layer: L.Layer) => {\n        let openPopupTimer: NodeJS.Timeout;\n        layer.on({\n          click: (e: LeafletMouseEvent) => {\n            geoJson.current?.resetStyle(selectedLayer.current);\n            // console.log(\"zone\", zone);\n\n            highlightLayer(e.target);\n            selectedLayer.current = e.target;\n            dispatch({\n              type: ADD_SELECTED_ZONE_ID,\n              payload: (zone as any)?._id,\n            });\n            e.target.openPopup();\n          },\n          mouseover: (e: LeafletEvent) => {\n            openPopupTimer = setTimeout(() => {\n              e.target.openPopup();\n            }, 700);\n            highlightLayer(e.target);\n          },\n          mouseout: (e: LeafletEvent) => {\n            clearTimeout(openPopupTimer);\n            if (\n              selectedLayer.current?.feature?._id === e.target?.feature?._id\n            ) {\n            } else {\n              dehighlightLayer(e.target);\n            }\n          },\n        });\n        layer.bindPopup(\n          `\n          <style>\n          .custom-popup-style .leaflet-popup-content-wrapper {\n            background: #FFFFFF;\n            box-shadow: 0px 4px 40px rgba(0, 30, 89, 0.09);\n            border-radius: 11px;\n          }\n          .custom-popup-style .leaflet-popup-tip {\n            box-shadow: 0px 4px 40px rgba(0, 30, 89, 0.09);\n          }\n          .custom-popup-style .title-container {\n            display: flex;\n            align-items: center;\n            margin-bottom: 8px;\n            margin-right: 8px;\n            position: relative;\n          }\n          .custom-popup-style .zone-status-pin {\n            display: inline-block;\n            width: 8px;\n            height: 8px;\n            border-radius: 4px;\n            margin-right: 5px;\n          }\n          .custom-popup-style .zone-name {\n            font-family: Rubik;\n            font-size: 16px;\n            font-weight: 500;\n            line-height: 16px;\n            color: #242B43;\n            margin: 0;\n          }\n          .custom-popup-style .data {\n            font-family: Rubik;\n            font-size: 14px;\n            font-weight: 500;\n            line-height: 20px;\n            margin: 0;\n          }\n          </style>\n          <div class='title-container'>\n            <span class=\"zone-status-pin\" style=\"\n              background-color: ${\n                getZoneStatusProps(zone.properties?.status).textInBlueishBg\n              }\n            \"></span>\n            <h5 class=\"zone-name\">${getProperDisplayName(zone as Zone)}</h5>\n          </div>\n          <p class=\"data infected\" style=\"\n            color: ${getZoneStatusProps(ZoneStatus.RISKY).textInWhiteBg}\n          \">${t(\"dataType.infected\")} ${\n            zone.properties?.total?.infectedNumber\n          }</p>\n          <p class=\"data recovered\" style=\"\n            color: ${getZoneStatusProps(ZoneStatus.SAFE).textInWhiteBg}\n          \">${t(\"dataType.recovered\")} ${\n            zone.properties?.total?.recoveredNumber\n          }</p>\n          <p class=\"data dead\" style=\"\n            color: ${getZoneStatusProps(ZoneStatus.DANGEROUS).textInWhiteBg}\n          \">${t(\"dataType.dead\")} ${zone.properties?.total?.deadNumber}</p>\n          `,\n          {\n            className: \"custom-popup-style\",\n          }\n        );\n      },\n    }).addTo(map.current);\n\n    showOnlyRelevantZones();\n\n    return () => {};\n  }, [zones]);\n\n  // useEffect(() => {\n  //   // console.log(\"selectedZone\", selectedZone);\n  //   if (selectedZone) {\n  //     // const latLng = getLatLngFromBBox(selectedZone?.bbox);\n  //     // map.current?.flyToBounds(latLng);\n\n  //     // showOnlyRelevantZones();\n\n  //     // if (closeBottomSheet) {\n  //     //   closeBottomSheet();\n  //     // }\n  //   }\n  // }, [selectedZone]);\n\n  return <div id=\"map\" style={{ width: \"100%\", height: \"100%\" }}></div>;\n};\n\nexport default MapTest;\n","export const getLatLngFromBBox = (bbox: number[] | undefined): [number, number][] => {\r\n  const [minLng, minLat, maxLng, maxLat] = bbox || [];\r\n  return [\r\n    [maxLat, maxLng],\r\n    [minLat, minLng],\r\n  ];\r\n};","import React, { useEffect, useContext, Suspense } from \"react\";\r\nimport { fetchZones } from \"../api/zones\";\r\nimport { ADD_ZONES } from \"../state/reducers/appReducer\";\r\nimport { StateContext } from \"../state/StateContext\";\r\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\r\nimport { getSelectedZoneObjById } from \"../utils/getSelectedZoneObj\";\r\nimport { Zone } from \"../types/zone\";\r\nimport { AxiosResponse } from \"axios\";\r\nimport { lazyPreload } from \"../utils/lazyPreload\";\r\nimport Layout from \"../components/Layout\";\r\nimport Search from \"../components/Search/index\";\r\nimport WelcomeBanner from \"../components/Banners/WelcomeBanner\";\r\nimport ChildZones from \"../components/ChildZonesTable/ChildZones\";\r\nimport CallBanner from \"../components/Banners/CallBanner\";\r\n// import Map from \"../components/Map/Leaflet\";\r\nimport Map from \"../components/Map\";\r\nconst SelectedZoneName = lazyPreload(() => import(/* webpackChunkName: 'SelectedZoneName' */\"../components/SelectedZoneName/SelectedZoneName\"))\r\n// import SelectedZoneName from \"../components/SelectedZoneName/SelectedZoneName\";\r\nconst OverallStat = lazyPreload(() => import(/* webpackChunkName: 'OverallStat' */\"../components/OverallStats/OverallStat\"))\r\n// import OverallStat from \"../components/OverallStats/OverallStat\";\r\nconst Graph = lazyPreload(() => import(/* webpackChunkName: 'Graph' */\"../components/HistoryGraph/Graph\"))\r\n// import Graph from \"../components/HistoryGraph/Graph\";\r\nconst Restrictions = lazyPreload(() => import(/* webpackChunkName: 'Restrictions' */\"../components/Restrictions/Restrictions\"))\r\n// import Restrictions from \"../components/Restrictions/Restrictions\";\r\n\r\nfunction User() {\r\n  const { dispatch, selectedZoneId, zones = [] } = useContext(StateContext);\r\n  const selectedZone = getSelectedZoneObjById(selectedZoneId, zones);\r\n  useEffect(() => {\r\n    fetchZones().then((res: AxiosResponse<Zone[]>) => {\r\n      dispatch({\r\n        type: ADD_ZONES,\r\n        payload: res.data || [],\r\n      });\r\n      console.log('res.data', res.data);\r\n      \r\n      SelectedZoneName.preload()\r\n      OverallStat.preload()\r\n      Graph.preload()\r\n      Restrictions.preload()\r\n    });\r\n    return () => {};\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      <CssBaseline />\r\n      <Layout\r\n        search={<Search />}\r\n        map={<Map/>}\r\n        mainContent={\r\n          <Suspense fallback={<>Loading...</>}>\r\n            {!selectedZone && <WelcomeBanner />}\r\n            {selectedZone && <SelectedZoneName />}\r\n            {selectedZone && <OverallStat />}\r\n            {selectedZone?.properties?.history && <Graph />}\r\n            <ChildZones />\r\n            <CallBanner />\r\n            {selectedZone && <Restrictions />}\r\n          </Suspense>\r\n        }\r\n      />\r\n    </>\r\n  );\r\n}\r\n\r\nexport default User;\r\n","import Axios from \"axios\";\n\nexport const fetchZones = () => {\n  console.log(\"process.env.PUBLIC_URL\", process.env.PUBLIC_URL);\n  const url =\n    process.env.NODE_ENV === \"production\"\n      ? process.env.PUBLIC_URL + \"/api/zones\"\n      : \"http://localhost:4000/api/zones\";\n  return Axios.get(url);\n};\n"],"sourceRoot":""}